<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="雲端架構師，年輕的軀殼裝著老靈魂，喜歡配著音樂閱讀，生活不能沒有思考和遊蕩 |                  Young body with sentimental and old soul. Can’t live without reading and music, and believe that life is full of thinking and warding.">
<meta name="keywords" content="GCP, storage, SDS, VMware, Hybrid-cloud, trainer">
<meta property="og:type" content="website">
<meta property="og:title" content="黃大仙的雲端修行室">
<meta property="og:url" content="https:&#x2F;&#x2F;joehuang-pop.github.io&#x2F;page&#x2F;2&#x2F;index.html">
<meta property="og:site_name" content="黃大仙的雲端修行室">
<meta property="og:description" content="雲端架構師，年輕的軀殼裝著老靈魂，喜歡配著音樂閱讀，生活不能沒有思考和遊蕩 |                  Young body with sentimental and old soul. Can’t live without reading and music, and believe that life is full of thinking and warding.">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://joehuang-pop.github.io/page/2/"/>





  <title>黃大仙的雲端修行室</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">黃大仙的雲端修行室</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Where you Spent time where the Success Is | 時間花在那裡，成就就在那裡</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://joehuang-pop.github.io/2020/02/12/%E7%A7%91%E5%AD%B8-%E5%AD%B8%E4%BD%9B%E6%98%AF%E7%9C%9F%E7%9A%84-Through-Psychology-Explain-Buddhism/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joe Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃大仙的雲端修行室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/12/%E7%A7%91%E5%AD%B8-%E5%AD%B8%E4%BD%9B%E6%98%AF%E7%9C%9F%E7%9A%84-Through-Psychology-Explain-Buddhism/" itemprop="url">[科學] 學佛是真的 | Through Psychology Explain Buddhism</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-12T14:55:40+08:00">
                2020-02-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%95%9F%E7%99%BC/" itemprop="url" rel="index">
                    <span itemprop="name">啟發</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="科學-學佛是真的-Through-Psychology-Explain-Buddhism"><a href="#科學-學佛是真的-Through-Psychology-Explain-Buddhism" class="headerlink" title="[科學] 學佛是真的 | Through Psychology Explain Buddhism"></a>[科學] 學佛是真的 | Through Psychology Explain Buddhism</h1><p>今天的分享來自&lt;得到 App&gt; 萬維鋼 | 精英日課 ，透過進化心理學列出七大模塊，事實是他們輪流坐莊來決定當下我的個體，再進一步解釋，其實”我”的本體，不屬於任何一個情感模塊。</p>
<p><img src="Untitled.png" alt="Untitled.png"></p>
<h2 id="▌進化心理學"><a href="#▌進化心理學" class="headerlink" title="▌進化心理學"></a>▌進化心理學</h2><p>▌實驗一</p>
<p>心理學有個動詞叫“prime”，也就是用一些外部的暗示去影響一個人的決策。比如說：給男性受試者看美女圖，會開啟了他大腦中的“求偶模塊。在漫長的人類歷史中，男性想要獲得配偶，就得拿出資源來。求偶模塊在我們大腦中根深蒂固，一旦這個模塊出來做主，它就要求趕緊得到資源。</p>
<p>▌實驗二<br>還有一個更有意思的實驗，也是針對男性</p>
<p>實驗把受試者分為兩組分別看電影。第一組看恐怖片，第二組看的是浪漫愛情喜劇。看完電影之後，又給受試者們看兩個藝術博物館的廣告。</p>
<ul>
<li>廣告一：宣傳點是這個藝術博物館為普羅大眾都喜好的展覽</li>
<li>廣告二：宣傳點則是這個博物館非等閒之輩來欣賞，你來就能彰顯你與眾不同的品位</li>
</ul>
<p><img src="Untitled1.png" alt="Untitled1.png"></p>
<p>那麼，剛才看的電影，對現在你對博物館的選擇有什麼影響嗎？</p>
<p>結果是，一開始看恐怖片的人更容易受到第一條廣告的影響，他們更願意去一個去的<strong><em>人多的博物館</em></strong>。而看浪漫片的人更容易受到第二條廣告的影響，<strong><em>他們想去一個人少的博物館</em></strong>。</p>
<blockquote>
<p>這是因為恐怖片和浪漫片開啟了你大腦中不同的<strong>模塊</strong>。恐怖片開啟的模塊叫<strong>“自我保護”</strong>，它想讓你和其他人在一起抱團取暖，所以你就要去到人多的地方。浪漫片則開啟的是前面說的 <strong>“求偶模塊”</strong>，它會讓你更願意找一個私密的地</p>
</blockquote>
<h2 id="▌七個思想模塊"><a href="#▌七個思想模塊" class="headerlink" title="▌七個思想模塊"></a>▌七個思想模塊</h2><p>那麼在腦中到底有多少模塊呢？<br>進化心理學家&lt;Douglas T. Kenrick/ Vladas Griskevicius&gt;，寫了一本書《理性動物》<br>共提供了七個思想模塊</p>
<ol>
<li>自我保護：讓你和其他人在一起抱團取暖，避免一個人獨處</li>
<li>求偶模塊：積極尋找資源展開行動</li>
<li>保住配偶：也就是防止配偶跟別人跑了, 這個模塊一旦開啟，人的注意力就不是在異性上，而是在潛在的同性競爭對手上<br>了</li>
<li>群體認同感：希望加入組織,獲得社交和團隊合作</li>
<li>關愛親屬：保護自己的孩子和父母、兄弟</li>
<li>社會地位：一種自我屬為社會認同</li>
<li>避免疾病：我們看到不乾淨的東西會感到噁心，且喜歡舒適的環境</li>
</ol>
<p><img src="Untitled2.png" alt="Untitled2.png"></p>
<p>Renovating the Pyramid of Needs: Contemporary Extensions Built Upon Ancient Foundations</p>
<p>現今的 <strong>“模塊說”</strong> 基本上是學界的一個共識，它是主流的學說之一。這些模塊是在長期進化過程中，我們大腦中一直存在的。只要人一出生，大腦就已經<strong>“預裝”</strong>了這些模塊。即使一個沒有受過任何教育的人，見到美麗異性也想追求、看到髒亂差環境也會反感。<br>但是請注意，模塊只是邏輯分類，並不是說大腦中有哪個區域負責哪個模塊。這些模塊之間也並不存在明顯的分界線，不像你手機裡的 APP 一樣，想用哪個程式就把它調出來，不用時就關閉這個再打開另一個。</p>
<blockquote>
<p>模塊之間有互相影響，而且無縫切換<br>常常一個模塊還沒結束,，另一個模塊就已經啟動了。<br>而我們大腦的決策權(心智)，基本上就被這些模塊輪流主導，也是腦中主要胡思亂想的來源</p>
</blockquote>
<h2 id="▌自由意志在哪裡"><a href="#▌自由意志在哪裡" class="headerlink" title="▌自由意志在哪裡?"></a>▌自由意志在哪裡?</h2><p>人腦不是君主制，而是一個<strong>“多元政體”</strong>。意思就是每個模塊都可以<strong>暫時接管你的大腦，輪流坐莊</strong>，各個模塊之間是存有互相競爭的關係。這種模型是近年以來心理學家對大腦最新的一個理解。其實這個道理就像是，人的腦中並不是只有一種聲音，人腦內其實有時常有爭論。著名迪事尼的卡通《腦筋急轉彎》，其實說的就是這個模型，說不定原著也是先了解進化心理學，再創作此作品呢</p>
<p><img src="Untitled3.png" alt="Untitled3.png"></p>
<h2 id="▌佛：五蘊皆空、無我"><a href="#▌佛：五蘊皆空、無我" class="headerlink" title="▌佛：五蘊皆空、無我"></a>▌佛：五蘊皆空、無我</h2><p><a href="https://www.books.com.tw/products/0010801330" target="_blank" rel="noopener">《未來簡史》</a>書中也有提到這個道理。如果是各個模塊輪流坐莊。</p>
<p>那麼第一，你沒有單一的<strong>“自我”；</strong>第二，你沒有<strong>“自由意志”</strong>。你的行動只是被這些模塊推來推去而 已。常常是某個模塊已經控制你了、已經讓你「做好決定了，事後，你才<strong>“意識到”</strong>你做出了這個決定，然後你的敘事自我還要給這個決定編個理由。</p>
<blockquote>
<p>模塊佔據你大腦的方法，是感情。<br>每個模塊都向你輸出一個感情，哪個感情強，哪個就容易抓住你的注意力。<br>這就好比你身處一大幫朋友和同事之間，他們每個人都在跟你說話，且都想讓你照他們說的話做，其中誰說話的聲音大，誰就更能吸引到你的注意力，此時你就容易聽誰的。</p>
</blockquote>
<p>如果你有打坐冥想的經驗，不但<strong>感情是這樣，思想也是這樣</strong>。比如你現在想要把注意力都集中在你的呼吸上，只體會自己的一呼一吸。你就會發現，你根本沒辦法長時間地集中注意力，很多想法就會不斷地冒出來一這些想法，也是從各個模塊中冒出來。</p>
<p><img src="Untitled4.png" alt="Untitled4.png"></p>
<blockquote>
<p>每次激起的模塊還根本不靠譜，而你常常被“他們”迷惑，影響思想和行為，但他們不是<strong><em>“你”</em></strong>，這正是佛陀說的“五蘊皆空”和 “無我”。</p>
</blockquote>
<p>看到這裡，你聽懂了嗎？因為沒有任何一個模塊是真正的自已</p>
<h2 id="▌修行，戰勝模塊-情感"><a href="#▌修行，戰勝模塊-情感" class="headerlink" title="▌修行，戰勝模塊(情感)"></a>▌修行，戰勝模塊(情感)</h2><p>但是佛陀，可不是這麼絕望的。佛陀說你可以通過修行，戰勝那些模塊，找回掌握控制權，擁有自由意志(尋找清淨)。</p>
<p>萬老師的比喻很妙：「這就好像一屋子的人都在讓你幹這幹那，而你非常酷，直接忽視大部分人的聲音， 自己選擇了對你最有利的意見——哪怕他的聲音很微弱」。</p>
<h2 id="▌結論"><a href="#▌結論" class="headerlink" title="▌結論"></a>▌結論</h2><p>很多時候常思考，我為什麼是我？至今30多歲，那個歲數的我，比較能代表真正的我？如果你曾思考過類似問題，不妨接受這個<strong>心理學推論</strong>，你本來就沒有屬於任於一個模塊。如果人沒有恆定的自我，你在不同時刻， 其實是被不同的思維模塊所左右而已。佛陀認為，你可以通過修行，戰勝那 些思維模塊，掌握控制權，擁有自由意志，這邊談到的自由意思，其實是空、是無我、是本來沒有我，正是六祖禪師說的：「本來無一物，何處惹塵埃」。</p>
<hr>
<blockquote>
<p>謝謝你的閱讀！我是黃大仙。<br>都市修行人 / 雲端架構師 / GCP講師 / 新手爸爸<br>喜歡研究不同領域事物，誠摯邀請一同交流學習！📒<br>如果有任何疑問，歡迎留下 Private Note 或留言給我！📒<br>👏1下——–給我一點鼓勵。<br>👏2~10下—–文章對你有幫助。<br>👏50下——-有興趣看「閱讀分享」相關的分享。</p>
</blockquote>
<p>謝謝你的閱讀！我是黃大仙。</p>
<p>都市修行人 / 雲端架構師 / GCP講師 / 新手爸爸</p>
<p>喜歡研究不同領域事物，誠摯邀請一同交流學習！📒</p>
<p>如果有任何疑問，歡迎留下 Private Note 或留言給我！📒</p>
<p>👏1下——–給我一點鼓勵。</p>
<p>👏2~10下—–文章對你有幫助。</p>
<p>👏50下——-有興趣看「閱讀分享」相關的分享。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://joehuang-pop.github.io/2020/02/12/%E5%95%9F%E7%99%BC-2%E5%88%86%E9%90%98%E6%B3%95%E5%89%87%E6%89%8D%E8%83%BD%E6%8C%81%E4%B9%8B%E4%BB%A5%E6%81%86-2-Minute-Rule-Makes-Dreams-Happened/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joe Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃大仙的雲端修行室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/12/%E5%95%9F%E7%99%BC-2%E5%88%86%E9%90%98%E6%B3%95%E5%89%87%E6%89%8D%E8%83%BD%E6%8C%81%E4%B9%8B%E4%BB%A5%E6%81%86-2-Minute-Rule-Makes-Dreams-Happened/" itemprop="url">[啟發] 2分鐘法則才能持之以恆 | 2 Minute Rule Makes Dreams Happened</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-12T14:54:22+08:00">
                2020-02-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%95%9F%E7%99%BC/" itemprop="url" rel="index">
                    <span itemprop="name">啟發</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="啟發-2分鐘法則才能持之以恆-2-Minute-Rule-Makes-Dreams-Happened"><a href="#啟發-2分鐘法則才能持之以恆-2-Minute-Rule-Makes-Dreams-Happened" class="headerlink" title="[啟發] 2分鐘法則才能持之以恆 | 2 Minute Rule Makes Dreams Happened"></a>[啟發] 2分鐘法則才能持之以恆 | 2 Minute Rule Makes Dreams Happened</h1><p>Status: Published</p>
<p>&lt;原子習慣&gt;是今年的暢銷書，網路上已有多數的書評和心得分享，皆是環繞在這四大流程(提示、渴望、回應、獎賞)，直到我到書店實際翻一下，看到這個章節，它提出的概念更契合我心，當場就直接將書買回家</p>
<p><img src="Untitled.png" alt="Untitled.png"></p>
<h2 id="目標看得太遠"><a href="#目標看得太遠" class="headerlink" title="目標看得太遠"></a>目標看得太遠</h2><p>即使知道做事要從小處做起，還是很容易一起跑就跨大步、爬山僅需記得眼前的台階，而非山頂。很多人失敗的原因，都是一開始就把目標看得太遠，反而忘記眼前必須完成的事情。</p>
<p>知所以會如此，是因為當你夢想著有所改變，很難避免讓奮興感接掌一切，到頭來就會</p>
<blockquote>
<p>試圖在太短的時間內，做太多的事</p>
</blockquote>
<p><img src="Untitled1.png" alt="Untitled1.png"></p>
<h2 id="新習慣只需二分鐘"><a href="#新習慣只需二分鐘" class="headerlink" title="新習慣只需二分鐘"></a>新習慣只需二分鐘</h2><p>書中則提到可以扺抗這種傾向最有效的方法，就是運用<strong>二分鐘法則</strong>：新習慣的開始應該要花不到兩分鐘。</p>
<p>以下舉的例子，你會發現幾乎每個習慣都可以縮減為兩分鐘的版本(有點萬事開頭起頭難的感覺)：</p>
<ol>
<li>「運動強身」變成「穿上球腳」</li>
<li>「用功讀書」變成「打開筆記本」</li>
<li>「把洗好的衣服摺好」變成「先摺好一件衣服」</li>
<li>「想要早起」變成「先離開床邊站起來」</li>
</ol>
<p>重點是盡可能<strong>讓習慣容易開始</strong>，任誰都可以靜心一分鐘、讀一頁書，或是把一件衣服摺好，如我們先前討論過的，</p>
<blockquote>
<p>這是個強而有力的策略，因為一旦開始做正確的事，要繼續做下去就比較簡單了。</p>
</blockquote>
<p><img src="Untitled2.png" alt="Untitled2.png"></p>
<p>有一個很重要的概念，就是不應該讓新習慣覺得像一種<strong>挑戰</strong>。<strong>接下來</strong>的行動可以有挑戰性，但開頭的兩分鐘應該是輕而易舉，但又總是做不到？原因是什麼？</p>
<p>你要做的是可以引導進入比較有成效的「入門習慣」。作法只要將目標依照困難度，「非常輕易」排到「非常困難」，如此就可以幫你引導到你想要的「入門習慣」</p>
<h2 id="跑馬拉松目標-→-入門習慣"><a href="#跑馬拉松目標-→-入門習慣" class="headerlink" title="跑馬拉松目標 → 入門習慣"></a>跑馬拉松目標 → 入門習慣</h2><p>對於一個初入跑馬拉松，全馬這個目標是42km 很堅「難」，跑半馬也「不簡單」，但我們先換成快走個1萬步，應該就相對「容易」吧，但這個你要做的第一件是穿上跑鞋，這就是所謂的入門習慣，也就是「<strong>兩分鐘法則」</strong>。</p>
<h2 id="如何運用「2分鐘法則」停止拖延"><a href="#如何運用「2分鐘法則」停止拖延" class="headerlink" title="如何運用「2分鐘法則」停止拖延"></a>如何運用「2分鐘法則」停止拖延</h2><p><a href="https://en.wikipedia.org/wiki/Twyla_Tharp" target="_blank" rel="noopener">Tharp, Twyla</a> | 崔拉‧夏普是當代偉大的舞者與編舞家，她把成功歸因在<strong>簡單的日常習慣，</strong>換句話說<strong>規律成就了她的一生。</strong></p>
<p>「我用一個儀式開始每一天」。她解釋到「我早上五點半起床，穿上健身服、暖腿套、運動杉，戴上帽子，然後走出我在曼哈頓的住所，招一輛計程車，請司機載我到健身房，在那裡運動二個小時。」</p>
<blockquote>
<p>我用的儀式並非每天早上在健身房健身，而是計程車。向司機告知目的地，我就完成儀式了</p>
</blockquote>
<p><img src="Untitled3.png" alt="Untitled3.png"></p>
<p>這是簡單的動作，但每天早晨用同樣的方式開啟新的一天，讓它成了習慣，讓它便於重復，<strong>重點就是要讓它很容易做</strong>。這項儀式讓她降低了我跳過或以不同的方式做的可能性，讓我的慣例軍火庫多了一項武器，也讓我少了一件要費心思考的事。」(它的意思是說，有了「搭計程車」起始動作處理掉做選擇時「分神」的問題，避免自已找各種理由不去健身)</p>
<h2 id="目標簡單一點，才是前進動能"><a href="#目標簡單一點，才是前進動能" class="headerlink" title="目標簡單一點，才是前進動能"></a>目標簡單一點，才是前進動能</h2><p>每天早上招計程車也許是個微不足道的舉動，卻是行為改變第三法則的絕佳範例。研究人員估計，我們每天的所作所為中，有40% - 50% 出於習慣。這樣的比例已經很可觀了，但習慣真正的影響卻遠大於這些數字所能表明的。</p>
<blockquote>
<p>習慣是會影響隨後有意識的決定的自動化選擇。沒錯，一個習慣可以在幾秒內完成，卻能形塑幾分鐘、甚至幾小時後的行為。</p>
</blockquote>
<p>習慣就像上高速公路前的匝道，將你引導至一條路線上，還來不及反應，你已經快速往下一個行為駛去。比起開始做一件不一樣的事，繼續做本來正在做的事似<strong>乎比較容易。(</strong>原本起手難，現在變成抽離難，這就是人性阿)</p>
<h2 id="一開始就想要完美"><a href="#一開始就想要完美" class="headerlink" title="一開始就想要完美"></a>一開始就想要完美</h2><p>人們常常一開始就企圖打造完美的習慣，但這個邏輯順序是不對的，應該要先做容易的事，並持續的做。所以要先標準化，才能最佳化。</p>
<p>從簡單的事下手：</p>
<p>這邊作者舉例</p>
<ul>
<li>穿上跑鞋(非常容易) → 走十分鐘(容易)→ (中等)→ 跑5公里(困難)→ 跑全馬(非常困難)</li>
<li>寫一句(非常容易) → 寫一段(容易)→ 寫一千字(中等)→ 寫一篇五千字(困難)→ 寫一本書(非常困難)</li>
<li>翻開筆記本(非常容易) → 用功十分鐘(容易)→ 用功三小時(中等)→ 每科都拿A(困難)→ 拿到博士學位(非常困難)</li>
</ul>
<p><img src="Untitled4.png" alt="Untitled4.png"></p>
<h2 id="刻意練習"><a href="#刻意練習" class="headerlink" title="刻意練習"></a>刻意練習</h2><p>把上面舉的例子有運動，寫作，攻讀學位，我把它</p>
<blockquote>
<p>結合兩分鐘理論與暢銷書&lt;刻意練習&gt;<br>它的公式應該是<strong>刻意完成”小”的目標</strong>。</p>
</blockquote>
<p>這邊在提供一個寫日記的例證。幾乎每個人都曾想培養此習慣，但大部份的人不是寫個幾天便放棄，就是避之唯恐不及，因為把寫日記當作是一個苦差事。其實秘訣就是在覺得費力之前停止，儘能割切好你的小目標，一定要刻寫得比自已想要得”少”，這點太重要了。英國一位知名顧問蓋瑞格‧麥基昂就是靠著”意識寫少”，來養成每天寫日記的習慣，他總是在覺得寫日記很麻煩之前停筆。</p>
<p>海明威對於寫作也有相同的見解，他說：「最棒的方式就是見好就收。」</p>
<h2 id="建立新的身份"><a href="#建立新的身份" class="headerlink" title="建立新的身份"></a>建立新的身份</h2><p>“<em>白話一點 → 期望自己想要變成那樣的人”</em></p>
<p>這類策略之所以奏效，還有另一個原因：它們強化了你想要<strong>建立的身份</strong>。如果你連續五天出現在健身房，即使每次只待兩分鐘，就是<strong>把票投給新的身分</strong>。你在乎的不是練出好身材，而是把焦點放在成為從不錯過健身的那種人。你採取最小的行動，來確保自己慢慢成為想要成為的人。 </p>
<blockquote>
<p>我們很少用這種方式看待改變<br>因為每個人都只在乎最終目標。但是，只做一下伏地挺身<br>好過完全沒運動、練吉他一分鐘好過根本不練、閱讀一分鐘好過從未展卷<br>做得比希望的少，好過什麼都沒做。</p>
</blockquote>
<p><img src="Untitled5.png" alt="Untitled5.png"></p>
<h2 id="二分鐘習慣-→-習慣塑造"><a href="#二分鐘習慣-→-習慣塑造" class="headerlink" title="二分鐘習慣 → 習慣塑造"></a>二分鐘習慣 → 習慣塑造</h2><p>到了某個程度，一旦建立習慣，每天都有起頭，你就能將兩分鐘法則與一個被我們稱為「習慣塑造」的策略結合在一起。每個當下就是把習慣往終極目標的方向升級，記住是眼前的小目標，而不是終點的那個目標。</p>
<h2 id="結論："><a href="#結論：" class="headerlink" title="結論："></a>結論：</h2><p>幾乎所有較大的生活目標都可以改造成兩分鐘的行為：</p>
<ul>
<li>我想要長壽與健康<ul>
<li>我需要擁有好的體態<ul>
<li>我需要運動<ul>
<li>我需要換上運動服 → 兩分鐘</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>我想要擁有幸福的婚姻<ul>
<li>我需要成為好伴侶<ul>
<li>我應該每天做點什麼讓另一半生活得更輕鬆<ul>
<li>我應該規畫下過的每日三餐 → 兩分鐘</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>把所有的<strong>“我想要”</strong>化作成更小的目標！每當你覺得很難堅持某個習慣時，就運用兩分鐘法則吧，這是讓習慣變得輕而易舉的簡單方法。</p>
<p>最後我分享<a href="https://www.youtube.com/watch?v=IhnGS1_VDG4&feature=emb_title" target="_blank" rel="noopener">趙小蘭</a>(美國首位華裔聯邦女部長)說過的話：</p>
<blockquote>
<p>爬山時，要專注眼前的每一個腳步<br>而不是遙想著山頂，那樣子很累。</p>
</blockquote>
<hr>
<p>即使知道做事要從小處做起，還是很容易一起跑就跨大步、爬山僅需記得眼前的台階，而非山頂。很多人失敗的原因，都是一開始就把目標看得太遠，反而忘記眼前必須完成的事情。</p>
<p>知所以會如此，是因為當你夢想著有所改變，很難避免讓奮興感接掌一切，到頭來就會</p>
<blockquote>
<p>試圖在太短的時間內，做太多的事</p>
</blockquote>
<p>書中則提到可以扺抗這種傾向最有效的方法，就是運用二分鐘法則：新習慣的開始應該要花不到兩分鐘。</p>
<p>以下舉的例子，你會發現幾乎每個習慣都可以縮減為兩分鐘的版本(有點萬事開頭起頭難的感覺)：</p>
<ol>
<li>「運動強身」變成「穿上球腳」</li>
<li>「用功讀書」變成「打開筆記本」</li>
<li>「把洗好的衣服摺好」變成「先摺好一件衣服」</li>
<li>「想要早起」變成「先離開床邊站起來」</li>
</ol>
<p>重點是盡可能<strong>讓習慣容易開始</strong>，任誰都可以靜心一分鐘、讀一頁書，或是把一件衣服摺好，而如我們先前討論過的，這是個強而有力的策略，因為一旦開始做正確的事，</p>
<blockquote>
<p>要繼續做下去就比較簡單了。</p>
</blockquote>
<p>有一個很重要的概念，就是不應該讓新習慣覺得像一種挑戰。<strong>接下來</strong>的行動可以有挑戰性，但開頭的兩分鐘應該是輕而易舉，但又總是做不到？原因是什麼？</p>
<p>你要做的是可以引導進入比較有成效的「入門習慣」</p>
<p>作法只要將目標依照困難度，「非常輕易」排到「非常困難」，如此就可以幫你引導到你想要的「入門習慣」</p>
<p><img src="Untitled6.png" alt="Untitled6.png"></p>
<h2 id="跑馬拉松目標-→-入門習慣-1"><a href="#跑馬拉松目標-→-入門習慣-1" class="headerlink" title="跑馬拉松目標 → 入門習慣"></a>跑馬拉松目標 → 入門習慣</h2><p>對於一個初入跑馬拉松，全馬這個目標是42km 很堅「難」，跑半馬也「不簡單」，但我們先換成快走個1萬步，應該就相對「容易」吧，但這個你要做的第一件是穿上跑鞋，這就是所謂的入門習慣，也就是「<strong>兩分鐘法則」</strong>。</p>
<h2 id="如何運用「2分鐘法則」停止托延-beginning"><a href="#如何運用「2分鐘法則」停止托延-beginning" class="headerlink" title="如何運用「2分鐘法則」停止托延(beginning )"></a>如何運用「2分鐘法則」停止托延(beginning )</h2><p>Tharp, Twyla | 崔拉‧夏普是當代偉大的舞者與編舞家，她把成功歸因在<strong>簡單的日常習慣，</strong>換句話說<strong>規律成就了她的一生。</strong></p>
<p>「我用一個儀式開始每一天」。她解釋到「我早上五點半起床，穿上健身服、暖腿套、運動杉，戴上帽子，然後走出我在曼哈頓的住所，招一輛計程車，請司機載我到健身房，在那裡運動二個小時。」</p>
<p>我用的儀式並非每天早上在健身房健身，而是計程車。向司機告知目的地，我就完成儀式了</p>
<p>這是簡單的動作，但每天早晨用同樣的方式開啟新的一天，讓它成了習慣，讓它便於重復，<strong>重點就是要讓它很容易做</strong>。這項儀式讓她降低了我跳過或以不同的方式做的可能性，讓我的慣例軍火庫多了一項武器，也讓我少了一件要費心思考的事。」它的意思是說，有了「搭計程車」起始動作處理掉做選擇時「分神」的問題，避免自已找各種理由不去健身。</p>
<h2 id="目標簡單一點，才是前進動能-1"><a href="#目標簡單一點，才是前進動能-1" class="headerlink" title="目標簡單一點，才是前進動能"></a>目標簡單一點，才是前進動能</h2><p>每天早上招計程車也許是個微不足道的舉動，卻是行為改變第三法則的絕佳範例。</p>
<p>研究人員估計，我們每天的所作所為中，有40% - 50% 出於習慣。這樣的比例已經很可觀了，但習慣真正的影響卻遠大於這些數字所能表明的。</p>
<h2 id="習慣會影響意識"><a href="#習慣會影響意識" class="headerlink" title="習慣會影響意識"></a>習慣會影響意識</h2><p>習慣是會影響隨後有意識的決定的自動化選擇。沒錯，一個習慣可以在幾秒內完成，卻能</p>
<blockquote>
<p>形塑幾分鐘、甚至幾小時後的行為。</p>
</blockquote>
<p>習慣就像上高速公路前的匝道，將你引導至一條路線上，還來不及反應，你已經快速往下一個行為駛去。比起開始做一件不一樣的事，繼續做本來正在做的事似<strong>乎比較容易。</strong></p>
<blockquote>
<p>原本起手難，現在變成抽離難，這就是人阿。</p>
</blockquote>
<h2 id="一下下就好啦，卻停不下來"><a href="#一下下就好啦，卻停不下來" class="headerlink" title="一下下就好啦，卻停不下來"></a>一下下就好啦，卻停不下來</h2><p>明明是一部爛電影，你還是坐著看了兩個小時；明明肚子很飽，你還是一直塞零食；本來是要看手機「一下下」，結果二十分鐘後，你仍死盯著螢幕。不假思索遵循的習慣往往就以這種方式，影響了你在思考時所做的選擇</p>
<p><img src="Untitled7.png" alt="Untitled7.png"></p>
<h2 id="決定性瞬間-選擇的力量"><a href="#決定性瞬間-選擇的力量" class="headerlink" title="決定性瞬間(選擇的力量)"></a>決定性瞬間(選擇的力量)</h2><p>決定自已下廚或是叫外賣的瞬間，決定要開車或是騎自行車的瞬間，決定要寫作還是要滑手機的瞬間。這些都是選擇都道上的岔路。</p>
<p><img src="Untitled8.png" alt="Untitled8.png"></p>
<h2 id="一開始就想要完美-1"><a href="#一開始就想要完美-1" class="headerlink" title="一開始就想要完美"></a>一開始就想要完美</h2><p>人們常常一開始就企圖打造完美的習慣，但這個邏輯順序是不對的，應該要先做容易的事，並持續的做。所以要先標準化，才能最佳化。</p>
<p>從簡單的事下手：</p>
<p>這邊作者舉例</p>
<ul>
<li>穿上跑鞋(非常容易) → 走十分鐘(容易)→ (中等)→ 跑5公里(困難)→ 跑全馬(非常困難)</li>
<li>寫一句(非常容易) → 寫一段(容易)→ 寫一千字(中等)→ 寫一篇五千字(困難)→ 寫一本書(非常困難)</li>
<li>翻開筆記本(非常容易) → 用功十分鐘(容易)→ 用功三小時(中等)→ 每科都拿A(困難)→ 拿到博士學位(非常困難)</li>
</ul>
<p><img src="Untitled9.png" alt="Untitled9.png"></p>
<h2 id="刻意練習-1"><a href="#刻意練習-1" class="headerlink" title="刻意練習"></a>刻意練習</h2><p>把上面舉的例子，我把兩分鐘理論結合暢銷書&lt;刻意練習&gt;，它的公式就是刻意完成小的目標。</p>
<p>這邊在提供一個寫日記的例證。幾乎每個人都曾想培養此習慣，但大部份的人不是寫個幾天便放棄，就是避之唯恐不及，因為把寫日記當作是一個苦差事。其實秘訣就是在覺得費力之前停止，儘能割切好你的小目標，一定要刻寫得比自已想要得”少”，這點太重要了。英國一位知名顧問x瑞格‧麥基昂就是靠著”意識寫少”，來養成每天寫日記的習慣，他總是覺得寫日記很麻煩之前停筆。</p>
<p>海明威對於寫作也有相同的見解，他說：「最棒的方式就是見好就收。」</p>
<h2 id="建立新的身份-1"><a href="#建立新的身份-1" class="headerlink" title="建立新的身份"></a>建立新的身份</h2><p>白話一點 → 期望自己想要變成那樣的人</p>
<p>這類策略之所以奏效，還有另一個原因：它們強化了你想要<strong>建立的身份</strong>。如果你連續五天出現在健身房，即使每次只待兩分鐘，就是<strong>把票投給新的身分</strong>。你在乎的不是練出好身材，而是把焦點放在成為從不錯過健身的那種人。你採取最小的行動，來確保自己慢慢成為想要成為的人。 </p>
<blockquote>
<p>我們很少用這種方式看待改變<br>因為每個人都只在乎最終目標。但是，只做一下 伏地挺身好過完全沒運動,練吉他一分鐘好過根本不練,閱讀一分鐘好過從未展卷。做 得比希望的少,好過什麼都沒做。</p>
</blockquote>
<h2 id="二分鐘習慣-→-習慣塑造-1"><a href="#二分鐘習慣-→-習慣塑造-1" class="headerlink" title="二分鐘習慣 → 習慣塑造"></a>二分鐘習慣 → 習慣塑造</h2><p>到了某個程度，一旦建立習慣，每天都有起頭，你就能將兩分鐘法則與一個被我們稱為「習慣塑造」的策略結合在一起。每個當下就是把習慣往終極目標的方向升級，記住是眼前的小目標，而不是終點的那個目標。</p>
<p><img src="Untitled10.png" alt="Untitled10.png"></p>
<h2 id="結論：-1"><a href="#結論：-1" class="headerlink" title="結論："></a>結論：</h2><p>幾乎所有較大的生活目標都可以改造成兩分鐘的行為: 我想要長壽與健康→我需要擁有好的體態-我需要運動-我需要換上運動服。 我想要擁有幸福的婚姻→我需要成為好伴侶→我應該每天做點什麼讓另一半生活 得更輕鬆!我應該規畫下過的每日三餐。</p>
<p>每當你覺得很難堅持某個習慣時,就運用兩分鐘法則吧。這是讓習慣變得輕而易 舉的簡單方法。</p>
<p>首先,要精通 該行為最小版本的前兩分鐘;接著,前進到一個中等程度的步驟,並重複那個過程| 專注於前兩分鐘,完全掌握該階段之後,再進入下一級。最後,你養成了最初希望養成 的習慣,同時仍把焦點放在它該在的地方:該行為的前兩分鐘。</p>
<p><a href="https://www.linksports.tw/post/185578195025/%E7%94%A8%E7%B0%A1%E5%96%AE%E7%9A%84%E7%BF%92%E6%85%A3%E4%BE%86%E5%BD%B1%E9%9F%BF%E4%BD%A0%E7%9A%84%E6%9C%AA%E4%BE%86" target="_blank" rel="noopener">https://www.linksports.tw/post/185578195025/用簡單的習慣來影響你的未來</a></p>
<p><a href="https://www.youtube.com/watch?v=IhnGS1_VDG4&feature=emb_title" target="_blank" rel="noopener">趙小蘭</a> | 美國首位華裔聯邦女部長趙曾說過：「爬山時，要專注眼前的每一個腳步，而不是遙想著山頂，那樣子很累。」</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://joehuang-pop.github.io/2020/02/12/%E7%A7%91%E6%8A%80-5G%E8%AA%B0%E6%9C%83%E6%9C%80%E5%A4%A7%E8%B4%8F%E5%AE%B6%EF%BC%9F-The-Latest-Winner-in-5G-Generation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joe Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃大仙的雲端修行室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/12/%E7%A7%91%E6%8A%80-5G%E8%AA%B0%E6%9C%83%E6%9C%80%E5%A4%A7%E8%B4%8F%E5%AE%B6%EF%BC%9F-The-Latest-Winner-in-5G-Generation/" itemprop="url">[科技] 5G誰會最大贏家？| The Latest Winner in 5G Generation</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-12T14:53:15+08:00">
                2020-02-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%95%9F%E7%99%BC/" itemprop="url" rel="index">
                    <span itemprop="name">啟發</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="科技-5G誰會最大贏家？-The-Latest-Winner-in-5G-Generation"><a href="#科技-5G誰會最大贏家？-The-Latest-Winner-in-5G-Generation" class="headerlink" title="[科技] 5G誰會最大贏家？| The Latest Winner in 5G Generation"></a>[科技] 5G誰會最大贏家？| The Latest Winner in 5G Generation</h1><p>Blog URL: <a href="https://drive.google.com/drive/folders/1b0SSbMex7Z5_a2Nqwj3BETH4bbJfG6Qd" target="_blank" rel="noopener">https://drive.google.com/drive/folders/1b0SSbMex7Z5_a2Nqwj3BETH4bbJfG6Qd</a><br>Status: Published</p>
<p>今天的分享主來自&lt;得到 App&gt; 吳軍 |  前沿科技，談的是5G誰是大贏。在開始之前先用通信歷史來鋪陳，談到過去什麼是高大尚的產品，後來沒有競爭力失去光環。文後也提供解方：鼓勵透過”信息熵”來做批判性思考，認為5G的未是必靠網路的大融合</p>
<p><img src="Untitled.png" alt="Untitled.png"></p>
<h2 id="▌用歷史看5G：從Internet-→-moblie-→-5G-IoT"><a href="#▌用歷史看5G：從Internet-→-moblie-→-5G-IoT" class="headerlink" title="▌用歷史看5G：從Internet → moblie → 5G + IoT"></a>▌用歷史看5G：從Internet → moblie → 5G + IoT</h2><p>走過網際網路時代，設備製造商，包括生產手機的和通信設備商，其實都已經賺了個盆滿缽滿。僅 華為一家，2018年的營業額就超過了千億美元，幾乎抵得上我們所說的BAT(Baidu, Alibaba, Tencent)三家的總和。</p>
<p>Apple也是靠著手機成為了全球收入最高且最賺錢的公司。在此之前網路時代剛來臨時，網絡設備製造商Cisco曾經是全球最為炙手可熱的公司。每個大時代下都會有相應因的巨頭產生 ，因此，5G時代在未來也同樣會出現大量的製造IoT設備的企業，成為5G的贏家。</p>
<p>但是，這裡面可能有一個”坑”，大家要非常小心。</p>
<blockquote>
<p>那就是不具有太多技術含量的所謂智慧硬體其實不值錢，比如說，製造低端傳感器的企業，製造非智能攝影機的企業，製造RFID晶片和讀寫器的企業，等等。</p>
</blockquote>
<h2 id="▌它是不是只有充電器等級？"><a href="#▌它是不是只有充電器等級？" class="headerlink" title="▌它是不是只有充電器等級？"></a>▌它是不是只有充電器等級？</h2><p>這個<strong>“坑”</strong>是什麼？這些企業就如同在 PC時代製造機箱或電源供應器，智慧手機時代，製造充電器的企業一樣。當這些低端硬體數量增加後，單個產品的價格還會下降。20年前你看那些產品和技術覺得很高大上，5年後它們就是<strong><em>充電器的技術含量</em></strong>。在前兩代網路發展中受益的設備製造商，都是做系統的。那為什麼要做系統呢?</p>
<blockquote>
<p>做好一個系統是有難度的，因為系統的表現不等於部分之和， 只有那些有本事做到整體大於部分和的企業， 才能在系統這個層面贏得競爭力。</p>
</blockquote>
<p>今天這個趨勢其實已經可以看出點端倪，中國過去有不少生產普通攝影機的企業，都沒有受益於中國監控產業的發展，它們甚至將攝影機白白送給銀行或者一些要驗證身份的企業使用，以換取極微薄的服務費或者一點點數據。</p>
<p>而真正掙到錢，而且受到資本市場追捧的，<strong><em>是製造具有目標識別功能的智慧攝影機的企業</em></strong>。一個智慧攝像頭的價格，是普通攝影機的50倍阿！</p>
<p><img src="Untitled1.png" alt="Untitled1.png"></p>
<h2 id="▌不敗公式：有效率的能量轉換"><a href="#▌不敗公式：有效率的能量轉換" class="headerlink" title="▌不敗公式：有效率的能量轉換"></a>▌不敗公式：有效率的能量轉換</h2><p>那麼未來這些應用會圍繞怎樣一個核心展開呢？簡單地講用<a href="https://zh.wikipedia.org/wiki/%E7%86%B5_(%E4%BF%A1%E6%81%AF%E8%AE%BA)" target="_blank" rel="noopener">&lt;</a><a href="https://zh.wikipedia.org/wiki/%E7%86%B5_(%E4%BF%A1%E6%81%AF%E8%AE%BA)https://zh.wikipedia.org/wiki/%E7%86%B5_(%E4%BF%A1%E6%81%AF%E8%AE%BA)" target="_blank" rel="noopener">信息熵 | entropy&gt;</a>解說，智能化和以訊息的使用<strong><em>換取能量的節省</em></strong>依然會是主旋律！我們不妨看看今天移動通信的很多應用，比如</p>
<ul>
<li>滴滴打車、Uber Eat，大家都是利用訊息 → 節省體力</li>
<li>美圖秀秀代替Photoshop，另外帶超大廣角的相機代替自拍棒 → 節省空間</li>
</ul>
<p>以上都是讓計算機變得更有智慧，來減少我們的工作(能量)。<br>如果你能開發一個新的5G商業模式，可以有效率的做能量轉換那麼就有機會突圍成功</p>
<p><a href="https://www.youtube.com/watch?v=13T7bVHU1a4" target="_blank" rel="noopener">https://www.youtube.com/watch?v=13T7bVHU1a4</a></p>
<p>另一個酷的實例：Verizon 和 SONY Ericsson 的5G合作</p>
<p>跑車100%遮敝玻璃，賽車手僅使用Real time 畫面傳送賽道 → 未來可實現遠端駕駛</p>
<blockquote>
<p>而真正能讓5G發機的時刻，是5G的網絡大融合。簡單說就是讓LAN+WAN合為一體，透過這個概念去開發出你們的產品和服務！</p>
</blockquote>
<h2 id="▌5G市場的規模，未來可以達一個日本的GDP"><a href="#▌5G市場的規模，未來可以達一個日本的GDP" class="headerlink" title="▌5G市場的規模，未來可以達一個日本的GDP"></a>▌5G市場的規模，未來可以達一個日本的GDP</h2><p>事實上從2015年至今， 電信服務的收入一直在兩萬億美元左右徘徊， 設備製造企業的收入看似在增加， 但真正增加較快的只有華為和中國的幾家手機廠， 即使是過去增長率很高的蘋果， 現在也停滯了。相比之下， 全世界網際網路產業直到今天依然有每年將近20%的增長就顯得特別亮眼。</p>
<p>那麼將來有了5G和IoT之後， 市場規模能達到多大呢?最保守的估計， 到2030年， 可以在今天網路和電信市場規模的基礎上翻一番， 也就是說達到8萬億美元以上， 或者說， 造就出一個4萬億美元的新的市場。 4萬億美元的市場規模有多大呢？比今天「日本」的GDP略小些， 比「德國」大一些。</p>
<p>那麼這個目標能否達成呢？如果我們分解一 下，就是每年增長6%，要求並不高。但是， <strong><em>如果沒有在5G時代網路產業和電信產業的融合，這個每年6%的目標還真達不到</em></strong>，因為在4G時代的最近幾年，電信產業是沒有增長的，因為它搭不上移動網路發展的快車，而網際網路又難以利用電信很大的基數。</p>
<p>其實我們可以看一看在整個4G時代，電信運營商除了幫助我們把網速提高了，是否還給我們帶來了什麼增值服務嗎？其實沒有…</p>
<blockquote>
<p>如果到了5G時代，當你家裡的網路和外面的移動網路合二為一時，電信企業就能夠依靠計算機企業的技術力量提供新的加增服務了，當然它們也就為計算機企業提供了一個更大的發展空間。</p>
</blockquote>
<p><img src="Untitled2.png" alt="Untitled2.png"></p>
<p>5G的普及將會是打破LAN, MAN, WAN</p>
<p>因此，在未來，網路的融合不僅是技術發展的結果，也是產業發展的需要。這時候產業的格局也就完全改變了。如果哪一天Google或者亞馬遜成為了一家電信企業，大家不必奇怪。</p>
<p>如果我們回顧一下早期計算機產業軟硬體的發展，就會發現一個相似之處。當時硬體企業產值高，但是因為摩爾定律的作用，價格不可能上漲，因此銷售額沒有增長，而軟軟產業利潤率很高，增長很快，但是盤子很小。</p>
<p>在移動網路時代，軟硬體產業開始融合，世界上主要的IT企業今天既生產硬體，也開發軟軟，於是它們的銷售額和利潤都快速增長。其中最典型的就是蘋果公司，你很難說它是硬體或是軟體公司</p>
<h2 id="▌結論："><a href="#▌結論：" class="headerlink" title="▌結論："></a>▌結論：</h2><p>在未來，大國之間的競爭力，在某種方面體現在誰能將這兩個產業融合好。總論一下在5G時代，大家不妨利用能量和訊息論，考慮一下自己未來的選擇</p>
<ol>
<li><p>巨大規模的市場機會，關鍵在於網路的融合</p>
</li>
<li><p>沒有技術含量的簡單產品沒有機會，系統級的創新才有。</p>
</li>
</ol>
<hr>
<blockquote>
<p>謝謝你的閱讀！我是黃大仙。<br>都市修行人 / 雲端架構師 / GCP講師 / 新手爸爸<br>喜歡研究不同領域事物，誠摯邀請一同交流學習！📒<br>如果有任何疑問，歡迎留下 Private Note 或留言給我！📒<br>👏1下——–給我一點鼓勵。<br>👏2~10下—–文章對你有幫助。<br>👏50下——-有興趣看「閱讀分享」相關的分享。</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://joehuang-pop.github.io/2020/02/12/%E5%95%9F%E7%99%BC-%E5%A6%82%E4%BD%95%E6%96%B7%E9%99%A4%E5%A3%9E%E7%BF%92%E6%85%A3-To-Break-Bad-Habits/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joe Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃大仙的雲端修行室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/12/%E5%95%9F%E7%99%BC-%E5%A6%82%E4%BD%95%E6%96%B7%E9%99%A4%E5%A3%9E%E7%BF%92%E6%85%A3-To-Break-Bad-Habits/" itemprop="url">[啟發] 如何斷除壞習慣 | To Break Bad Habits</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-12T14:51:50+08:00">
                2020-02-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%95%9F%E7%99%BC/" itemprop="url" rel="index">
                    <span itemprop="name">啟發</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="啟發-如何斷除壞習慣-To-Break-Bad-Habits"><a href="#啟發-如何斷除壞習慣-To-Break-Bad-Habits" class="headerlink" title="[啟發] 如何斷除壞習慣 | To Break Bad Habits"></a>[啟發] 如何斷除壞習慣 | To Break Bad Habits</h1><p>Blog URL: <a href="https://drive.mindmup.com/map/1IkHfIjj0-XzhLBl_TNJLgjMhtEwER7jY" target="_blank" rel="noopener">https://drive.mindmup.com/map/1IkHfIjj0-XzhLBl_TNJLgjMhtEwER7jY</a><br>Status: Published<br>text convert: <a href="https://drive.google.com/drive/folders/1qIKKayDH0S7G5dyX3-3ImW3WiqgrSKwH" target="_blank" rel="noopener">https://drive.google.com/drive/folders/1qIKKayDH0S7G5dyX3-3ImW3WiqgrSKwH</a></p>
<p>生活中有許多的壞習慣，比說無限上綱的滑手機，看東森新聞XDD。但要如何讓壞習慣不可能發生？我從 &lt;原子習慣&gt; 得到的啟發，我們先看一個故事，1830年《鐘樓怪人》的作者<a href="https://zh.wikipedia.org/wiki/%E7%BB%B4%E5%85%8B%E5%A4%9A%C2%B7%E9%9B%A8%E6%9E%9C" target="_blank" rel="noopener">雨果</a>，他面臨一個不可能的截稿期限，他要在一年內完成作品。</p>
<p>為了對抗拖延的惡習，阻止娛樂活動，雨果想出一個怪招，他請助理把他所有的衣服都鎖進一個大櫃子裡，除了一條大披巾，他沒有東西可穿。既然沒有能穿出門的衣服，1830年未他就整整待在書房瘋狂寫作，結果大作《鐘樓怪人》就在1831年1月出版</p>
<blockquote>
<p>有時候，成功的關鍵除了讓好習慣變得容易執行之外<br>更重要的是把壞習慣變困難。</p>
</blockquote>
<p><img src="Untitled.png" alt="Untitled.png"></p>
<p>這是行為改變第三法則的反轉：「<strong>試行動困難無比」</strong>。如果發現自己一直難以貫徹計畫，我們可以效法雨果，藉由創造心理學家所謂的「承諾機制」，增加壞習慣的難度。</p>
<hr>
<h2 id="承諾機制"><a href="#承諾機制" class="headerlink" title="承諾機制"></a><strong>承諾機制</strong></h2><p>當雨果把衣服都鎖起來，好讓自己專心寫作<br>就是創造了一個承諾機制，那什麼是？我們先談談定義</p>
<blockquote>
<p><strong><em>承諾機制是用當下做的選擇來控制未來的行為</em></strong>。這是鎖定未來行為，把你跟好習慣綁在一起，並讓你遠離惡習的一個方法。</p>
</blockquote>
<p>生活中有很多方法可以創造<em>承諾機制</em>。你可以買獨立包裝而非家庭號的食物，來減低過度飲食的機率，出門時會刻意不帶錢包，以免被誘惑去買速食。</p>
<blockquote>
<p>而承諾機制之所以有用<br>是因為它可以在你淪為誘惑的受者之前，好好利用良好的意圖</p>
</blockquote>
<h2 id="善用科技"><a href="#善用科技" class="headerlink" title="善用科技"></a><strong>善用科技</strong></h2><p>讓好習慣自動化，並消除壞習慣，方法很多，通常都跟善用科技有關。因此承諾機制常搭配科技的輔助，比方說科技能讓原本困難、惱人與複雜的行動，變得輕鬆、無痛且簡單。</p>
<ul>
<li>醫療：連續處方箋的藥可以自動續領</li>
<li>理財：透過自動提撥特定比例的薪資，來為退休生活存錢</li>
<li>用餐：送餐服務也可以幫你採購食材</li>
<li>生產力：可以用網站封鎖工具阻斷社群媒體的瀏覽</li>
</ul>
<h2 id="iPhone-Screen-Time-限制App使用"><a href="#iPhone-Screen-Time-限制App使用" class="headerlink" title="iPhone Screen Time 限制App使用"></a>iPhone Screen Time 限制App使用</h2><p><strong>消除壞習慣，</strong>我自已也有一套方法，<strong>克制自已使用手機</strong>，比方說iPhone內建的 Screen Time功能，透過它我限制使用Line、Instagram、Facebook的使用間間，我設定為一天僅可以用45分鐘。對於筆電上的Line我則啟用自動鎖定模式，若三分鐘未使用就需要重新輸入一次密碼。</p>
<p>我還聽到更狠的是，透過插座定時器，裝在網路路由上，時間到就斷電，即是斷網路的概念，如果家有中有重點網路成隱的朋友，我是可以協助安裝XD</p>
<p><img src="Untitled1.png" alt="Untitled1.png"></p>
<h2 id="自動化的缺點"><a href="#自動化的缺點" class="headerlink" title="自動化的缺點"></a>自動化的缺點</h2><p>當然，科技的力量也可能對我們不利。瘋狂追劇之所以變成習慣，是因為比起繼續盯著螢幕，你要投注更多心力才能停止看劇要看下一集，你連按個鈕都不用！Netfix 或YouTube 會自動為你播放，你只要保持眼睛張開就可以了(你看看多自動化阿)。</p>
<p>科技帶來某種程度的方便，讓你可以滿足最微小的突發奇想與欲望。稍微覺得有點餓，就能把食物仙到家門口，或是稍微覺得有點無聊，就能迷航於廣闊的社群媒體之海。 當滿足欲望所需的努力基本上趨近於零，你會發現自己不知不覺陷入當下浮現的任何衝動。</p>
<blockquote>
<p>自動化的缺點，就是可能會讓我們從一項簡單任務到另一項簡單任務</p>
</blockquote>
<p><img src="Untitled2.png" alt="Untitled2.png"></p>
<p>但我發現自己只要一有空閒，就會被社群媒體吸引，只要出現</p>
<blockquote>
<p><strong><em>毫秒的無聊</em></strong>就能讓我拿起手機。我們很容易把這些小小的分心美化成「休息一下」，但長久累積下來，會變成嚴重的問題。「只要再一分鐘」的心態一直摸著我，阻礙我去做任何重要的事。</p>
</blockquote>
<h2 id="大絕招，改密碼"><a href="#大絕招，改密碼" class="headerlink" title="大絕招，改密碼"></a>大絕招，改密碼</h2><p>再來是作者的親身經歷，寫這本書的那一年，試驗了一個時間管理策略：請他的助理每週一會改掉我所有社群媒體帳號的密碼，讓作者無法登入，於是呢整個期間，就能不受干擾地工作。</p>
<p>助理會在週五把新的密碼寄給作者，使其在週末盡情享用社群媒體，可到了週一，她會再次更改密碼。這個方法你也可以找個朋友或家人合作，每週為彼此重設密碼。</p>
<p>六年前，還是替代役的我，也迷上最火紅的英雄聯盟 | LOL，當然也是請女友(現任的老婆)幫我修改密碼，從此之就沒有登入過遊戲了，要斷絕壞習慣就要給一次痛快！</p>
<p><img src="Untitled3.png" alt="Untitled3.png"></p>
<hr>
<h2 id="結論："><a href="#結論：" class="headerlink" title="結論："></a>結論：</h2><p>很多書本教你如何建立起好習慣，但好的書同時也不忘教你如何遠離壞習慣，因為我們不可永遠保持著正念，總要用些方法幫自已自然地遠離惡習。</p>
<p>科技為你所用時，自動化能讓好習慣變得無可避免，但科技也可能滋長壞習慣。了解壞習慣產生之前，早一步意識到它，這是鎖定未來行為，而不是依賴當下意志力的終極之道。</p>
<p>透過運用<strong>承諾機制</strong>、<strong>策略性的一次性選擇</strong>，你可以打造一個<strong>充滿必然性</strong>的環境，在這個空間裡，好習慣不再只是你希望的結果，而是幾乎保證會發生的結果。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://joehuang-pop.github.io/2020/02/12/%E5%95%9F%E7%99%BC-%E9%AB%98%E6%89%8B%E7%9A%84%E5%AD%B8%E7%BF%92%E6%96%B9%E6%B3%95-%E4%B8%80-Master-Learning-Methods-Part-I/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joe Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃大仙的雲端修行室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/12/%E5%95%9F%E7%99%BC-%E9%AB%98%E6%89%8B%E7%9A%84%E5%AD%B8%E7%BF%92%E6%96%B9%E6%B3%95-%E4%B8%80-Master-Learning-Methods-Part-I/" itemprop="url">[啟發] 高手的學習方法 (一) | Master Learning Methods Part I</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-12T14:48:07+08:00">
                2020-02-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%95%9F%E7%99%BC/" itemprop="url" rel="index">
                    <span itemprop="name">啟發</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="啟發-高手的學習方法-一-Master-Learning-Methods-Part-I"><a href="#啟發-高手的學習方法-一-Master-Learning-Methods-Part-I" class="headerlink" title="[啟發] 高手的學習方法 (一) | Master Learning Methods Part I"></a>[啟發] 高手的學習方法 (一) | Master Learning Methods Part I</h1><p>Status: Published</p>
<p>學習是我們常常提到的詞，有人認為它很簡單，有人覺得它很難，有人認為它寫讀書，也有人認為它無所不在，有人在大學畢業時就停止了，有人決心要堅持一輩子。對我而言，我認為學習是終身的課題，學習更要有系統性，對於不同的學階段和狀態要給予不同學習方針。</p>
<p>萬維鋼老師是我在&lt;得到 app&gt;，follow的第二個導師，也是因為這篇統整學習的方法，讓我決定訂閱精英日課第二季。</p>
<p><img src="Untitled.png" alt="Untitled.png"></p>
<hr>
<h2 id="學習三個層次"><a href="#學習三個層次" class="headerlink" title="學習三個層次"></a>學習三個層次</h2><p>心理學家把人對外界的感知分為三層區域，先要對自已了解，才對面外</p>
<ul>
<li>「舒適區」是最裡面也是第一層，是我們熟悉的事物</li>
<li>「恐慌區」是最外面一層，它等於是我們完全陌生的事物</li>
<li>「學習區」是在舒適區和恐慌區之間，既有熟悉，又有新意</li>
</ul>
<p><img src="Untitled1.png" alt="Untitled1.png"></p>
<p>Img from <a href="https://satdharma.com/beyondego-new/subconscious-training/" target="_blank" rel="noopener">satdarma.com</a></p>
<h2 id="從認知科學角度出發"><a href="#從認知科學角度出發" class="headerlink" title="從認知科學角度出發"></a>從認知科學角度出發</h2><p>人腦學習新技能時，是發生在神經元這個層面的。</p>
<p>因為練習了一個動作，會觸發經常一起被使用神經元，最後就會長在一起，因此一個技能的形成可以解釋為</p>
<blockquote>
<p>神經元整個<strong><em>網絡</em></strong>結構長好 了，就相當於一個技能長在了你的大腦之中</p>
</blockquote>
<p><img src="Untitled2.png" alt="Untitled2.png"></p>
<p>最初僅有cell body漸漸會有dedrites(樹突)和axon(軸突)，可以是輸入也可以向外延伸至別的神經元</p>
<p>刻意練習的一個關鍵，就是要脫離「舒適區」，只在壓力狀態下做事。因為成長來自打擊，技藝來自鬥爭。嘗試、失敗，再嘗試、再失敗經過不斷循環，直到掌握為止，我們要的就是這樣“有成效的失敗”，失敗為成功之母就是這個道理。<br>而且，我們不但應該在「學習區」練習，且應該在學習區研究、工作和娛樂。另外如果你要提昇自已，就需要把自已放學習區和恐慌區的邊界。</p>
<h2 id="我們該如何學習？"><a href="#我們該如何學習？" class="headerlink" title="我們該如何學習？"></a>我們該如何學習？</h2><p>關鍵的一點，就是你要敢於從「舒適區」往外走一 步，但是還不能走得太遠。面對這個世界你不 「能一味迎合，你要敢於任性地加入一點新東西，但是為了你自己的安全起見，也不要太新！加過量了。不但學習新技能應該這樣，平時工作也應該這樣。心理學家契克森米哈賴說，想要達到<a href="https://zh.wikipedia.org/wiki/%E5%BF%83%E6%B5%81%E7%90%86%E8%AB%96" target="_blank" rel="noopener">「心流狀態</a>」，需要這個<em>工作帶點難度和你的技能正好配得上，</em>技能低工作難，你就會焦慮；技能高工作簡單，你就會無聊。</p>
<blockquote>
<p>正確的「心流」是工作難度稍微比你的技能高一點點，你歷經一番忘我的掙扎把它完成。這樣你不但做事做得有意思、感到時間過得特別快，而且還能不斷提高水平。</p>
</blockquote>
<h2 id="學習千萬不能”只進不出”"><a href="#學習千萬不能”只進不出”" class="headerlink" title="學習千萬不能”只進不出”"></a>學習千萬不能”只進不出”</h2><p>你可能會說，我是在「學習區」，學了，背了，但是啥也沒記住，這不是白學了?<br>其實，人的記憶有兩個強度：</p>
<ul>
<li>存儲強度 (storage strength)</li>
<li>提取強度 (retrieval strength)</li>
</ul>
<p><img src="Untitled3.png" alt="Untitled3.png"></p>
<p>提取記憶和記憶的存儲有正相關，提取越多更有機會存進長期記憶</p>
<ul>
<li><p>img</p>
<p>  <img src="Untitled4.png" alt="Untitled4.png"></p>
<p>  <img src="Untitled5.png" alt="Untitled5.png"></p>
<p>  <img src="Untitled6.png" alt="Untitled6.png"></p>
<p>  <img src="Untitled7.png" alt="Untitled7.png"></p>
</li>
</ul>
<p>存儲強度不會隨時間減弱(這點很重要)！我們每時每刻都在接收大量的信息，而其中的絕大部分都被大腦自動忽略了。這些被忽略的不算。那些剩下來的，是你主動希望記住的東西 ，比如說 一個人名，一個電話號碼或是一個英語單字。</p>
<p>一旦進入記憶，就永遠在那裡了。下次再見到它，它在你大腦裡的存<strong>儲強度會增強</strong>， 但是哪怕你再也不見它了，它的存儲強度也不會減弱。<em>存儲強度只增不減</em>。那麼為什麼我們會忘記東西呢？</p>
<blockquote>
<p>那是提取強度出了問題。如果沒有復習跟練習，提取強度就隨著時間慢慢減弱<br>所以，學習不能一昧到倒東西進腦袋，一定要適時思考跟應用，增加存取頻率。</p>
</blockquote>
<p>下篇會介紹古代偉人思想出發</p>
<p>幫助我們如何學習</p>
<hr>
<h1 id="啟發-高手的學習方法-二-Master-Learning-Methods-Part-II"><a href="#啟發-高手的學習方法-二-Master-Learning-Methods-Part-II" class="headerlink" title="[啟發] 高手的學習方法 (二) | Master Learning Methods Part II"></a>[啟發] 高手的學習方法 (二) | Master Learning Methods Part II</h1><h2 id="長、短期工作記憶"><a href="#長、短期工作記憶" class="headerlink" title="長、短期工作記憶"></a>長、短期工作記憶</h2><p>現在心理學認為人有兩種「工作記憶」。 </p>
<ul>
<li>短期工作記憶：相當於電腦記憶體，是完成一項具體工作的時候大腦隨時使用的記憶。</li>
<li>長期工作記憶：相當於硬碟，是我們平時的知識存儲</li>
</ul>
<p><img src="Untitled8.png" alt="Untitled8.png"></p>
<p>右邊的記憶區分為：長期和短期。二個區塊訊息交流構成不同的工作模式</p>
<p>配合工作記憶，來解釋日常的人們的工作模式非常有趣</p>
<ul>
<li>所謂學習：就是把進入到大腦的短期工作記憶的內容強化吸收，寫進長期工作記憶之中的過程</li>
<li>所謂創新：就是把長期工作記憶中的相關內容調出來，放在短期工作記憶裡跟新信息形成配合的過程</li>
<li>集中思維：就是在此時此刻的短期工作記憶裡強化這個新信息</li>
<li>發散思維：就是短期工作記憶和長期工作記憶之間的通道</li>
</ul>
<p>人腦不像計算機的存儲器能瞬間記錄訊息，大腦是肉長的。</p>
<blockquote>
<p>這就好像砌牆，你有了磚頭和水泥，總要再給點時間讓水泥風乾了，牆才能結實，這個道理就是呼應前篇提到的技能構成，它是由多個神經元網路所構成的，是需要點時間的阿</p>
</blockquote>
<h2 id="平台期，長肌肉時間"><a href="#平台期，長肌肉時間" class="headerlink" title="平台期，長肌肉時間"></a>平台期，長肌肉時間</h2><p>為什麼我們第一次學習新技能的時候總覺得很彆扭，過段時間，哪怕是睡一覺或者隔一天不練，再拿起來感覺反而好多了？！<strong><em>這一小段“不練”的間隔期對大腦非常重要</em></strong>。就好比練舉重，如果你每時每刻都舉重，你的肌肉沒有辦法生長，總要停一段時間長肉。</p>
<p><img src="Untitled9.png" alt="Untitled9.png"></p>
<p>每一個神經元要變成完整的神經網路是要時間的，此時我們稱成<a href="https://www.youtube.com/watch?v=W8_ktKKyW5A" target="_blank" rel="noopener">平台期</a></p>
<p>我們學習各種技能，有時候會遇到一個短暫的<strong><strong>平台期</strong></strong>。比如當年學開車，一開始進步神速，過了一段時間，就感覺有幾天雖然一直在練，但是水平不但沒提高反而還下降了， 怎麼開都彆扭—這就是平台期。這個平台其實是大腦內部正在忙著建立新連接的時期，不是沒有進步，是因為後台正在重組！</p>
<blockquote>
<p>據此我們知道，學習要慢慢來<br>學習知識並不是越快越好。複雜的技能需要時間間隔。</p>
</blockquote>
<h2 id="想記住，先學會忘記"><a href="#想記住，先學會忘記" class="headerlink" title="想記住，先學會忘記"></a>想記住，先學會忘記</h2><p>知道了<a href="https://medium.com/@joehuang_36936/%E5%95%9F%E7%99%BC-%E9%AB%98%E6%89%8B%E7%9A%84%E5%AD%B8%E7%BF%92%E6%96%B9%E6%B3%95-%E4%B8%80-master-learning-methods-part-i-6ae067071794" target="_blank" rel="noopener">上篇</a>提到的提取強度 (retrieval strength)的關系，東西存進腦袋是不會不見的。</p>
<p>即然如此，學習就不是天天都來，應該是用最少的時間學習，如此還能通過遺忘過濾掉一些不必要的信息。</p>
<p>以背單詞為例，這就要求我們</p>
<ul>
<li>第一次復習是在一天之後</li>
<li>第二次就要拉長，比如說再等一周之後</li>
<li>然後是一個月之後</li>
<li>然後是幾個月甚至更長時間</li>
</ul>
<p>有實驗證明，哪怕第一次復習是在兩個月之後，你感覺什麼都不記得了，其實還是能找到一點印象，這種學法還是有效的！</p>
<p>所以要想記住，最好先忘了。從這個角度講，慢慢學才是好辦法。這週學了一點就放下，下週接著學得先提取一下前面的記憶，這樣多次提取，記憶就加深了很多。交叉著在同一時期內學習幾門課程，比學完一門再學另一門的效果好得多。</p>
<h2 id="莊子-無為的狀態"><a href="#莊子-無為的狀態" class="headerlink" title="莊子 | 無為的狀態"></a>莊子 | 無為的狀態</h2><p>忘記的功夫。修煉這個“忘記”的功夫，咱們得學學莊子。那麼身一位有學問的現代人，應該怎麼達到莊子無為的境界呢?</p>
<p><img src="Untitled10.png" alt="Untitled10.png"></p>
<p>孔子、老子、孟子和莊子，給我們提供了四種路徑方法，每個人應該根據自己的性格喜好選擇不同的方法，而且在人生的不同階段，也可以使用不同的方法。</p>
<ul>
<li>孔子的思想應用：<br>在學習任何技能的初期，我們應該用孔子的辦法，勤學苦練，搞沉浸式的教育體驗，爭取習慣成自然。</li>
<li>老子的思想應用：<br>具體做事的時候，尤其是要做那些能夠影響別人的大事，我們應該參考老子的思想，不輕易干擾複雜系統。</li>
<li>孟子的想思應用：<br>培養藝術品位，提昇道德水準，我們可以用孟子的辦法，找到身上的閃光點作為種子，慢慢發展壯大。</li>
<li>莊子的想思應用：<br>如果面對一項壓力巨大而又特別重要的工作，我們就應該學習莊子，忘記自我，讓熱認知引導我們發揮水平。</li>
</ul>
<blockquote>
<p>這四派武功，你只有實踐了，才知道那到底是什麼境界<br>正所謂運用之妙，存乎一心。</p>
</blockquote>
<h2 id="結論："><a href="#結論：" class="headerlink" title="結論："></a>結論：</h2><p>讀完二篇的介紹，首先要清楚自已的學習區間，也就是「舒適區」、「學習區」與「恐慌區」。再來就是要懂得復習跟思考，這個手段就是增強我們的提取記憶，目的則是把短期記憶推展到長期記憶成生技能的一部份。</p>
<p>古人的思想這些手段的確是互相矛盾的，但世界本來就充滿矛盾且復雜。無為，本來就是一個悖論：你越想得到無為，你就越得不到無為。不過真正的高手是能善用策略面對不同的學習。</p>
<h2 id="References："><a href="#References：" class="headerlink" title="References："></a>References：</h2><ol>
<li>&lt;得到app&gt; 萬維鋼 | 精英日課第二季</li>
<li><a href="https://www.youtube.com/watch?v=W8_ktKKyW5A" target="_blank" rel="noopener">Neural Networks 3: axons, dendrites, synapses</a></li>
<li><a href="https://www.allaboutcircuits.com/news/artificial-neural-network-how-ANN-change-research-engineering/" target="_blank" rel="noopener">Artificial Neural Network Roundup: How ANNs Are Changing the Way We Research (and Engineer)</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://joehuang-pop.github.io/2020/02/12/GCP-Cloud-Scheduler-%E7%B5%B1%E4%B8%80%E9%97%9C%E6%A9%9FVM-Instance-Cloud-Scheduler-Saving-GCP-Cost/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joe Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃大仙的雲端修行室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/12/GCP-Cloud-Scheduler-%E7%B5%B1%E4%B8%80%E9%97%9C%E6%A9%9FVM-Instance-Cloud-Scheduler-Saving-GCP-Cost/" itemprop="url">[GCP] Cloud Scheduler 統一關機VM Instance | Cloud Scheduler Saving GCP Cost</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-12T14:24:54+08:00">
                2020-02-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GCP/" itemprop="url" rel="index">
                    <span itemprop="name">GCP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="GCP-Cloud-Scheduler-統一關機VM-Instance-Cloud-Scheduler-Saving-GCP-Cost"><a href="#GCP-Cloud-Scheduler-統一關機VM-Instance-Cloud-Scheduler-Saving-GCP-Cost" class="headerlink" title="[GCP] Cloud Scheduler 統一關機VM Instance | Cloud Scheduler Saving GCP Cost"></a>[GCP] Cloud Scheduler 統一關機VM Instance | Cloud Scheduler Saving GCP Cost</h1><h2 id="Agenda"><a href="#Agenda" class="headerlink" title="Agenda"></a>Agenda</h2><hr>
<h2 id="前題"><a href="#前題" class="headerlink" title="前題"></a>前題</h2><p>要讓機器自動關機的方法很多，linux crontab是一種，但仔細想想它是適用於單一台機器。假設我們的情況是一個cluster，它運行多台，你當然可以寫script都讓他們自動關機</p>
<blockquote>
<p>不過用不同的關機指令或方法，有不同的關機速度像是OS level、Instance console，因為每台VM Instances內服務不同，關閉的速度當然也不同<br>因此本實作透過console level 著手達成<em>統一關機的動作</em></p>
</blockquote>
<p><img src="Untitled.png" alt="Untitled.png"></p>
<p>說明instance對於各種action的反應時間(by: GCP VM instance Modules)</p>
<h3 id="Console-Stop-關機方式"><a href="#Console-Stop-關機方式" class="headerlink" title="Console Stop 關機方式"></a>Console Stop 關機方式</h3><p>今天要使用的是Console Stop方式，停止執行個體會導致 Compute Engine 將 <code>ACPI</code> 關機訊號傳送至執行個體。現行訪客作業系統都設定為在關機之前執行乾淨關機作業以回應關機訊號。 Compute Engine 會等待一小段時間，讓訪客完成關機，然後將執行個體轉換至 <code>TERMINATED</code> 狀態</p>
<h3 id="OS-層級Shutdown-VM-instance"><a href="#OS-層級Shutdown-VM-instance" class="headerlink" title="OS 層級Shutdown VM instance"></a>OS 層級Shutdown VM instance</h3><pre><code>sudo shutdown -h now</code></pre><h3 id="使用Cloud-Scheduler來協助關機"><a href="#使用Cloud-Scheduler來協助關機" class="headerlink" title="使用Cloud Scheduler來協助關機"></a>使用Cloud Scheduler來協助關機</h3><p>簡單說它就是在GCP上的crontab，對instance來說是外部的<strong>鬧鐘</strong>。它的好處是你可以統一對GCP上所有的instance做一次性的操作。要完成這個實作，我們還需要結合<strong>Cloud Pub/Sub、Cloud Function</strong>來完整自動化開機/關機的程序</p>
<hr>
<h2 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h2><ol>
<li>指定VM Instance 設定<code>label</code>，設定Cloud  Pub/Sub topic</li>
<li>部署Cloud Function，使用<code>Nodo.js</code> code 去控制你的VM Instances</li>
<li>透過Cloud Scheduler建立一個時間表，使VM Instances按時間開關機</li>
</ol>
<h3 id="架構圖說明"><a href="#架構圖說明" class="headerlink" title="架構圖說明"></a>架構圖說明</h3><ul>
<li><p><a href="https://cloud.google.com/compute/docs/instances/" target="_blank" rel="noopener">Compute Engine Instance</a>：最右邊是接受控管VM Instances</p>
</li>
<li><p><a href="https://cloud.google.com/functions/docs/concepts/overview" target="_blank" rel="noopener">Cloud Functions functions</a>：承載一個簡單函式，執行開/關機程式</p>
</li>
<li><p><a href="https://cloud.google.com/pubsub/docs/overview" target="_blank" rel="noopener">Pub/Sub messages</a>：訊息傳送的角色，把VM上的label 傳送給Cloud function</p>
</li>
<li><p><a href="https://cloud.google.com/scheduler/docs/" target="_blank" rel="noopener">Cloud Scheduler jobs</a>：GCP上的定時器，時間一到會執行目標上的Cloud function</p>
<p>  <img src="Untitled1.png" alt="Untitled1.png"></p>
</li>
</ul>
<hr>
<h2 id="啟用Cloud-Scheduler-API-amp-Cloud-Function-API"><a href="#啟用Cloud-Scheduler-API-amp-Cloud-Function-API" class="headerlink" title="啟用Cloud Scheduler API &amp; Cloud Function API"></a>啟用Cloud Scheduler API &amp; Cloud Function API</h2><p>首先，要使用之前我們要先產出<code>credential</code> 給Cloud function API 和Cloud Scheduler API做使用</p>
<pre><code># Enable API
$gcloud services enable &lt;SERVICE_NAME&gt;
- cloudfunctions.googleapis.com
- cloudscheduler.googleapis.com

$gcloud services enable cloudfunctions.googleapis.com
$gcloud services enable cloudscheduler.googleapis.com

# Check Enabled Current API
$ gcloud services list --available | grep -E &apos;Scheduler | Functions&apos;
cloudfunctions.googleapis.com                         Cloud Functions API
cloudscheduler.googleapis.com                         Cloud Scheduler API</code></pre><p>執行結果看到 Scheduler, Functions都是<code>available</code></p>
<p><img src="Untitled2.png" alt="Untitled2.png"></p>
<p>你可以到GCP Console 進行設定<br>路徑如下： IAM → APIs &amp; Services → Credentials</p>
<p><img src="Untitled3.png" alt="Untitled3.png"></p>
<h2 id="怎麼樣讓Cloud-Function認得你的機器呢？-→-Labels"><a href="#怎麼樣讓Cloud-Function認得你的機器呢？-→-Labels" class="headerlink" title="怎麼樣讓Cloud Function認得你的機器呢？ →  Labels"></a>怎麼樣讓Cloud Function認得你的機器呢？ →  Labels</h2><p>這裡使用的方法是在指定的VM Instances，加上<code>labels</code>，它是一個<code>**key:value**</code>格式<br>我的要控制的cluster是kubernetes cluster，因此使用 <code>env:k8s</code> 當作labels</p>
<ul>
<li><p>使用cloud shell 新增labels，並篩選機器 label 為 <code>env:k8s</code></p>
</li>
<li><p>Kubernetes一共有3台instance，記得都要上<code>labels</code></p>
</li>
<li><p>補充一下<code>labels</code>和<code>metadata</code>是不一樣的東西喔</p>
<h1 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h1><h1 id="Labels-can-be-used-to-identify-the-instance-and-to-filter-them"><a href="#Labels-can-be-used-to-identify-the-instance-and-to-filter-them" class="headerlink" title="Labels can be used to identify the instance and to filter them."></a>Labels can be used to identify the instance and to filter them.</h1><h1 id="To-find-a-instance-labeled-with-key-value-pair-k1-v2"><a href="#To-find-a-instance-labeled-with-key-value-pair-k1-v2" class="headerlink" title="To find a instance labeled with key-value pair k1, v2"></a>To find a instance labeled with key-value pair k1, v2</h1><h1 id="可以先讀一下範例說明"><a href="#可以先讀一下範例說明" class="headerlink" title="可以先讀一下範例說明"></a>可以先讀一下範例說明</h1><p>  $gcloud beta compute instances add-labels example-instance \</p>
<pre><code>--labels=k0=v0,k1=v1</code></pre><p>  $gcloud compute instances list –filter=’labels.k1:v2’</p>
<h1 id="Label-env-k8s"><a href="#Label-env-k8s" class="headerlink" title="Label env=k8s"></a>Label env=k8s</h1><h1 id="label套用到我的環境"><a href="#label套用到我的環境" class="headerlink" title="label套用到我的環境"></a>label套用到我的環境</h1><p>  $gcloud beta compute instances add-labels k8s-master \</p>
<pre><code>--zone=us-central1-a \
--labels=env=k8s</code></pre><p>  $gcloud compute instances list –filter=’labels.env:k8s’</p>
</li>
</ul>
<p>執行結果看到<br>透過<code>labels.env:k8s</code>篩選出我們要看的VM Instance</p>
<p><img src="Untitled4.png" alt="Untitled4.png"></p>
<p>你可以到GCP Console 進行檢查<code>Labels</code></p>
<p><img src="Untitled5.png" alt="Untitled5.png"></p>
<h2 id="建立-Pub-Sub-topics"><a href="#建立-Pub-Sub-topics" class="headerlink" title="建立  Pub/Sub topics"></a>建立  Pub/Sub topics</h2><p>建立二筆topic，一個給開機用另一則是關機用，名字分別為<code>start-instance-event</code>、<code>stop-instance-event</code></p>
<pre><code># 建立二個 topics: start &amp; stop
$gcloud pubsub topics create start-instance-event
$gcloud pubsub topics create stop-instance-event

# 檢視現有的topic
$gcloud pubsub topics list
---
name: projects/tw-rd-ca-joe-huang/topics/start-instance-event
---
name: projects/tw-rd-ca-joe-huang/topics/stop-instance-event</code></pre><p>建好之後，檢視Pub/Sub發現有二筆<code>topic</code></p>
<p>代表建立成功</p>
<p><img src="Untitled6.png" alt="Untitled6.png"></p>
<h2 id="建立Start-and-Stop-Cloud-Functions"><a href="#建立Start-and-Stop-Cloud-Functions" class="headerlink" title="建立Start and Stop Cloud Functions"></a>建立Start and Stop Cloud Functions</h2><ul>
<li><p>先下載Git，看他的程式碼邏輯跟剛才測試的<code>labels</code>是一樣的</p>
</li>
<li><p>用預寫好的node.js 部署<code>Cloud Function</code></p>
<h1 id="下載-node-js-code"><a href="#下載-node-js-code" class="headerlink" title="下載 node.js code"></a>下載 node.js code</h1><h1 id="裡面有控制function-可以對instance開關機"><a href="#裡面有控制function-可以對instance開關機" class="headerlink" title="裡面有控制function 可以對instance開關機"></a>裡面有控制function 可以對instance開關機</h1><p>  git clone <a href="https://github.com/GoogleCloudPlatform/nodejs-docs-samples.git" target="_blank" rel="noopener">https://github.com/GoogleCloudPlatform/nodejs-docs-samples.git</a></p>
</li>
</ul>
<pre><code># 切換正確目錄
cd nodejs-docs-samples/functions/scheduleinstance/

# 部署Cloud Function
gcloud functions deploy startInstancePubSub \
    --trigger-topic start-instance-event \
    --runtime nodejs8</code></pre><p><code>node.js</code> 部份功能</p>
<pre><code>exports.startInstancePubSub = async (event, context, callback) =&gt; {
  try {
    const payload = _validatePayload(
      JSON.parse(Buffer.from(event.data, &apos;base64&apos;).toString())
    );
    const options = {filter: `labels.${payload.label}`}; # 用label篩選指定的vm
    const [vms] = await compute.getVMs(options);
    await Promise.all(
      vms.map(async instance =&gt; {
        if (payload.zone === instance.zone.id) {
          const [operation] = await compute
            .zone(payload.zone)
            .vm(instance.name)
            .start();                                    # start()函數來啟動vm

          // Operation pending
          return operation.promise();
        }
      })
    );</code></pre><ul>
<li><h3 id="Payload"><a href="#Payload" class="headerlink" title="Payload"></a>Payload</h3><h3 id="Multi-Payload"><a href="#Multi-Payload" class="headerlink" title="Multi Payload"></a>Multi Payload</h3><p>  看看能不能管理多個lael，意思就是可以管理不多的instances</p>
<p>  <img src="Untitled7.png" alt="Untitled7.png"></p>
<h2 id="node-js-6-BUG"><a href="#node-js-6-BUG" class="headerlink" title="node.js 6 BUG"></a>node.js 6 BUG</h2><p>  <strong>Error message: Code in file index.js can’t be loaded</strong></p>
<p>  <a href="https://stackoverflow.com/questions/56571460/cloud-functions-deployment-fails-function-failed-on-loading-user-code-error-m" target="_blank" rel="noopener">https://stackoverflow.com/questions/56571460/cloud-functions-deployment-fails-function-failed-on-loading-user-code-error-m</a></p>
<p>  <img src="Untitled8.png" alt="Untitled8.png"></p>
</li>
</ul>
<h2 id="設定Cloud-Scheduler"><a href="#設定Cloud-Scheduler" class="headerlink" title="設定Cloud Scheduler"></a>設定Cloud Scheduler</h2><p>如何定義一個排程時間，設定日期的規則很像<a href="http://linux.vbird.org/linux_basic/0430cron.php" target="_blank" rel="noopener">Linux crontab</a></p>
<p><a href="https://cloud.google.com/scheduler/index" target="_blank" rel="noopener">Cloud Schedule</a>列出5個欄位「分」、「時」、「天」、「月」、「週」</p>
<p><img src="https://cloud.google.com/scheduler/docs/images/schedule-fields.png" alt="https://cloud.google.com/scheduler/docs/images/schedule-fields.png"></p>
<h3 id="Cloud-Scheduler-設定例子"><a href="#Cloud-Scheduler-設定例子" class="headerlink" title="Cloud Scheduler 設定例子"></a>Cloud Scheduler 設定<strong>例子</strong></h3><ul>
<li>每分鐘執行：<code>* * * * *</code></li>
<li>每週一早上九點執行：<code>0 9 * * 1</code></li>
<li>每週早上九點執行：<code>0 9 * *</code></li>
<li>每3小時執行：<code>0 */3 * * *</code></li>
<li>每週一早上十點40分執行：<code>40 10 * * 1</code></li>
<li>每週早上十點40分執行：<code>40 10 * * *</code></li>
<li>上班工作日開機，下班時間請執行： <code>0 7,18 * * 1-5</code></li>
</ul>
<h3 id="手動測試"><a href="#手動測試" class="headerlink" title="手動測試"></a>手動測試</h3><p>建議在使用Cloud Scheduler之前，可以先手動觸發Cloud function<br>如此可以減少Scheduler設定錯誤，而造成時間等待的浪費</p>
<ul>
<li><p>注意這邊傳入function的值需要經過加密，因此使用<code>base64</code></p>
</li>
<li><p>把加密過的值帶入 —data{<code>encrpted data</code>}</p>
<h1 id="因為現在是關機的狀態，要使用Cloud-functions-call-startInstancePubSub"><a href="#因為現在是關機的狀態，要使用Cloud-functions-call-startInstancePubSub" class="headerlink" title="因為現在是關機的狀態，要使用Cloud functions call startInstancePubSub"></a>因為現在是關機的狀態，要使用Cloud functions call startInstancePubSub</h1><p>  $echo ‘{“zone”:”us-central1-a”, “label”:”env=k8s”}’ | base64<br>  eyJ6b25lIjoidXMtY2VudHJhbDEtYSIsICJsYWJlbCI6ImVudj1rOHMifQo=</p>
<h1 id="直接手動觸發-開機"><a href="#直接手動觸發-開機" class="headerlink" title="直接手動觸發(開機)"></a>直接手動觸發(開機)</h1><p>  $gcloud functions call startInstancePubSub \</p>
<pre><code>--data &apos;{&quot;data&quot;:&quot;eyJ6b25lIjoidXMtY2VudHJhbDEtYSIsICJsYWJlbCI6ImVudj1rOHMifQo=&quot;}&apos;</code></pre><p>  executionId: e7o6dafufthu</p>
<h1 id="執行function成功，幫我們開機"><a href="#執行function成功，幫我們開機" class="headerlink" title="執行function成功，幫我們開機"></a>執行function成功，幫我們開機</h1><p>  result: Successfully started instance(s)</p>
<h1 id="檢視機器狀態"><a href="#檢視機器狀態" class="headerlink" title="檢視機器狀態"></a>檢視機器狀態</h1><p>  $for vm in k8s-master k8s-node-1 k8s-node-2; do gcloud compute instances describe $vm \</p>
<pre><code>--zone us-central1-a \
| grep status; done</code></pre><p>  status: RUNNING<br>  status: RUNNING<br>  status: RUNNING</p>
</li>
</ul>
<p>執行結果看到，三台VM Instance有正常運行中</p>
<p><img src="Untitled9.png" alt="Untitled9.png"></p>
<ul>
<li><p>先看現況VM的狀態(關機)</p>
<pre><code># joe.huang @ joehuangs-MacBook-Pro in ~ on git:master x [10:29:39] C:1
$ for vm in k8s-master k8s-node-1 k8s-node-2; do gcloud compute instances describe $vm \
    --zone us-central1-a \
    | grep status; done
status: RUNNING
status: RUNNING
status: RUNNING</code></pre><p>  <img src="Untitled10.png" alt="Untitled10.png"></p>
<p>  <img src="Untitled11.png" alt="Untitled11.png"></p>
</li>
</ul>
<h3 id="正式測試"><a href="#正式測試" class="headerlink" title="正式測試"></a>正式測試</h3><ul>
<li>透過Cloud Scheduler 自動觸發 stop-dev-instances</li>
<li>方才我們驗證了Cloud function 可以正常工作， 與辨識VM Instance label: <code>env:k8s</code></li>
<li>再來就是要驗證Scheduler + Cloud function，把時間設定為<code>期望的時間</code></li>
</ul>
<blockquote>
<p>注意：<br>現在時間是<code>10:37</code>且VM處於開機狀態，我們要設定10:48 <code>關機</code></p>
</blockquote>
<p><img src="Untitled12.png" alt="Untitled12.png"></p>
<p>Cloud Shell 範本</p>
<pre><code># Sample
gcloud beta scheduler jobs create pubsub startup-dev-instances \
    --schedule &apos;0 9 * * 1-5&apos; \
    --topic start-instance-event \
    --message-body &apos;{&quot;zone&quot;:&quot;us-west1-b&quot;, &quot;label&quot;:&quot;env=dev&quot;}&apos; \
    --time-zone &apos;America/Los_Angeles&apos;

# 設定 10點48分鐘關機
gcloud beta scheduler jobs create pubsub stop-dev-instances \
    --schedule &apos;48 10 * * *&apos; \
    --topic start-instance-event \
    --message-body &apos;{&quot;zone&quot;:&quot;us-central1-a&quot;, &quot;label&quot;:&quot;env=k8s&quot;}&apos; \
    --time-zone &apos;Asia/Taipei&apos;</code></pre><p>確實執行完task喔</p>
<pre><code># joe.huang @ joehuangs-MacBook-Pro in ~ on git:master x [10:47:20]
$ for vm in k8s-master k8s-node-1 k8s-node-2; do gcloud compute instances describe $vm \
    --zone us-central1-a \
    | grep status; done
status: TERMINATED
status: TERMINATED
status: TERMINATED</code></pre><p>執行結果看到<br>三台VM Instance有已被終止運行</p>
<p><img src="Untitled13.png" alt="Untitled13.png"></p>
<h2 id="查看Cloud-Scheduler-Job-Log"><a href="#查看Cloud-Scheduler-Job-Log" class="headerlink" title="查看Cloud Scheduler Job Log"></a>查看Cloud Scheduler Job Log</h2><p>最後我們查看log，看看他的執行的過程</p>
<p>我們可以看到10:48香港時間，執行了<strong>stop-dev-instances</strong></p>
<ul>
<li>type: “type.googleapis.com/google.cloud.scheduler.logging.AttemptFinished”</li>
<li>jobName: “projects/tw-rd-ca-joe-huang/locations/asia-east2/jobs/start-stop-vm”</li>
<li>pubsubTopic: “projects/tw-rd-ca-joe-huang/topics/<code>stop-instance-event</code>“</li>
</ul>
<p><img src="Untitled14.png" alt="Untitled14.png"></p>
<h2 id="References"><a href="#References" class="headerlink" title="References:"></a>References:</h2><ol>
<li><strong><a href="https://cloud.google.com/scheduler/docs/start-and-stop-compute-engine-instances-on-a-schedule?hl=en-ushttps://cloud.google.com/scheduler/docs/start-and-stop-compute-engine-instances-on-a-schedule?hl=en-us" target="_blank" rel="noopener">Cloud scheduler</a></strong><br><a href="https://cloud.google.com/scheduler/docs/start-and-stop-compute-engine-instances-on-a-schedule?hl=en-us" target="_blank" rel="noopener">https://cloud.google.com/scheduler/docs/start-and-stop-compute-engine-instances-on-a-schedule?hl=en-us</a></li>
<li><strong><a href="https://cloud.google.com/sdk/gcloud/reference/beta/compute/instances/add-labelshttps://cloud.google.com/sdk/gcloud/reference/beta/compute/instances/add-labels" target="_blank" rel="noopener">Instances add-labels</a></strong><br><a href="https://cloud.google.com/sdk/gcloud/reference/beta/compute/instances/add-labels" target="_blank" rel="noopener">https://cloud.google.com/sdk/gcloud/reference/beta/compute/instances/add-labels</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://joehuang-pop.github.io/2020/02/11/K8s-Kube-apiserver-How-does-api-flow-work/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joe Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃大仙的雲端修行室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/11/K8s-Kube-apiserver-How-does-api-flow-work/" itemprop="url">K8s Kube apiserver How does api flow work</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-11T13:08:16+08:00">
                2020-02-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/K8s/" itemprop="url" rel="index">
                    <span itemprop="name">K8s</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="K8s-Kube-apiserver-工作流程-How-does-api-flow-work"><a href="#K8s-Kube-apiserver-工作流程-How-does-api-flow-work" class="headerlink" title="[K8s] Kube-apiserver 工作流程 | How does api-flow work?"></a>[K8s] Kube-apiserver 工作流程 | How does api-flow work?</h1><h2 id="▌什麼是-Kube-apiserver？"><a href="#▌什麼是-Kube-apiserver？" class="headerlink" title="▌什麼是 Kube-apiserver？"></a>▌什麼是 Kube-apiserver？</h2><p>kube-apiserver 是 Kubernetes 最重要的核心組件之一，它的位置在master node裡面</p>
<p>主要功能就是提供cluster管理，下面會用二個例跟大家來說明</p>
<p><img src="Untitled.png" alt="Untitled.png"></p>
<p>Core Components of K8s</p>
<ul>
<li><p><strong>REST API ：</strong>包括<code>認證授權</code>、<code>數據校驗</code>以及<code>集群狀態變</code>更等</p>
</li>
<li><p><strong>通信樞紐   ：</strong>提供其他Components之間的資料交互和通信的樞紐</p>
<ul>
<li><p>樞紐指的是：其他Components，包括worker kublet, kube-proxy 與 master node等等，可以通過 API Server 查詢或修改數據</p>
</li>
<li><p>這邊要注意一個重點就是，只有 API Server 才<code>直接操作 etcd</code><br>有沒有注意到只有kube-apiserver有畫線到etcd</p>
<p>  <img src="Untitled1.png" alt="Untitled 1.png"></p>
<p>  以Client Certificates 檢視</p>
</li>
</ul>
</li>
</ul>
<h2 id="▌實例說明：以建立一個nginx為例"><a href="#▌實例說明：以建立一個nginx為例" class="headerlink" title="▌實例說明：以建立一個nginx為例"></a>▌實例說明：以建立一個nginx為例</h2><ol>
<li><p>APIServer: 是專門負責接收kubectl送出來的命令，<br>比如：我們通過kubectl 通過APIServe r告訴它，我們要創建一個service/pod </p>
<pre><code>$kubectl apply -f ngnix-service.yml</code></pre></li>
<li><p>APIServer 接收到命令後，會把<code>指令</code>和<code>參數</code>存在etcd裡面</p>
<ul>
<li>kubelet 是管理 pod，也就是管理container創建跟刪除</li>
<li>kube-proxy 主要是用來管理網路，它會透過iptables(灰色)去創立policy<br>來確保service可以向外溝通</li>
</ul>
</li>
<li><p>完整的過程即是kubelet 和 kube-proxy會一直<code>監聽</code>etcd裡面有什麼改變， 若發現有新的指令(指上面kubectl apply)，它就知道有新的service/pod 要創建，就會在相應的node上建立service/pod -</p>
<ul>
<li>k8s-node1 長出<code>pod</code> (紫色)</li>
<li>同時也因應網路的需求建立 <code>iptables</code> (灰色)</li>
</ul>
</li>
</ol>
<p><img src="Untitled2.png" alt="Untitled 2.png"></p>
<h2 id="▌實例說明2-建一個Service"><a href="#▌實例說明2-建一個Service" class="headerlink" title="▌實例說明2: 建一個Service"></a>▌實例說明2: 建一個Service</h2><ul>
<li><p>當一個service建立好時，kube-poxy會一併建立routing</p>
<p>  <img src="Untitled3.png" alt="Untitled 3.png"></p>
</li>
</ul>
<p>可以用kube log來看service建立了什麼<br>不用看完整的iptables</p>
<p><img src="Untitled4.png" alt="Untitled 4.png"></p>
<p>service配多少的ip range 可以從ps aux 看喔</p>
<p><img src="Untitled5.png" alt="Untitled 5.png"></p>
<p>iptables 看service + grep</p>
<p><img src="Untitled6.png" alt="Untitled 6.png"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://joehuang-pop.github.io/2020/01/11/BigQuery-%E6%B7%BA%E7%8E%A9-Date-Partitioned-Date-Partitioned-Tables-in-BigQuery/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joe Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃大仙的雲端修行室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/11/BigQuery-%E6%B7%BA%E7%8E%A9-Date-Partitioned-Date-Partitioned-Tables-in-BigQuery/" itemprop="url">[BigQuery] 淺玩 Date-Partitioned |  Date-Partitioned Tables in BigQuery</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-01-11T00:31:39+08:00">
                2020-01-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GCP/" itemprop="url" rel="index">
                    <span itemprop="name">GCP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="BigQuery-淺玩-Date-Partitioned-Date-Partitioned-Tables-in-BigQuery"><a href="#BigQuery-淺玩-Date-Partitioned-Date-Partitioned-Tables-in-BigQuery" class="headerlink" title="[BigQuery] 淺玩 Date-Partitioned |  Date-Partitioned Tables in BigQuery"></a>[BigQuery] 淺玩 Date-Partitioned |  Date-Partitioned Tables in BigQuery</h1><p>Blog URL: <a href="https://www.qwiklabs.com/focuses/3694?parent=catalog" target="_blank" rel="noopener">https://www.qwiklabs.com/focuses/3694?parent=catalog</a><br>Status: Completed<br>Types: BigQuery, GCP</p>
<h2 id="▌什麼是Partition？"><a href="#▌什麼是Partition？" class="headerlink" title="▌什麼是Partition？"></a>▌什麼是Partition？</h2><h3 id="Partition-說明"><a href="#Partition-說明" class="headerlink" title="Partition 說明"></a>Partition 說明</h3><p>Partitioned table是原始table中擷取出來的片段的table，因為原本的table太大，而我們僅拿我們要的資料，所以可以篩選過常用且必需的資料即可。如此可以更簡單管理，且加速query的速度，而增進query的速度也是間接首你節省成本，因為BigQuery的計價是以每一次<a href="https://cloud.google.com/bigquery/pricing?hl=en-us" target="_blank" rel="noopener">query的資料量來計價</a>。</p>
<blockquote>
<p>A partitioned table is a table that is <code>divided into segments, called partitions,</code> that make it easier to manage and query your data. By dividing a large table into smaller partitions, you can improve query performance, and control costs by reducing the number of bytes read by a query.</p>
</blockquote>
<h3 id="Partition-目的"><a href="#Partition-目的" class="headerlink" title="Partition 目的"></a>Partition 目的</h3><p>過去會使用WHERE，拿時間當作條件篩選，這樣的作法同樣也是做全表的掃描，其實是很浪費資源的。如果你只是想要看某個特定時間呢？也是會跑一次全表的掃描，如果有<strong>date-partitioned tables</strong>就增加query的效率，我們僅挑出特定時間就好</p>
<blockquote>
<p>Scanning through the entire dataset everytime to compare rows against a WHERE condition is <code>wasteful</code>. This is especially true if you only really care about records for a specific period of time like:</p>
</blockquote>
<ul>
<li>All transactions for the last year</li>
<li>All visitor interactions within the last 7 days</li>
<li>All products sold in the last month</li>
<li>以百貨業來看，週年慶時期 10-11月</li>
<li>以電子業來看，Q3旺季出貨</li>
</ul>
<h2 id="▌Partition-實作"><a href="#▌Partition-實作" class="headerlink" title="▌Partition 實作"></a>▌Partition 實作</h2><ol>
<li>跑一般全表的 Query</li>
<li>建立Partition Table</li>
<li>實測 Partition Query</li>
<li>比較二次結果</li>
</ol>
<hr>
<h3 id="1-全表的-Query"><a href="#1-全表的-Query" class="headerlink" title="1. 全表的 Query"></a>1. 全表的 Query</h3><p>我們使用公開data，名為<code>data-to-insights.ecommerce.all_sessions_raw</code>，查詢四個fullVisitorId, date, city, pageTitle項目，時間限定在<code>20170708</code>，最後檢視前 5 個記錄</p>
<pre><code>SELECT DISTINCT
  fullVisitorId,
  date,
  city,
  pageTitle
FROM `data-to-insights.ecommerce.all_sessions_raw`
WHERE date = &apos;20170708&apos;
LIMIT 5</code></pre><p><img src="Untitled.png" alt="Untitled.png"></p>
<ul>
<li><p>Sample1: <code>WHERE date = &#39;20170708&#39;</code> in 1.5s (Query complete<br>(1.5 sec elapsed, 1.7 GB processed))</p>
<p>  <img src="Untitled1.png" alt="Untitled1.png"></p>
</li>
</ul>
<h3 id="Worker-timing-in-General-Query"><a href="#Worker-timing-in-General-Query" class="headerlink" title="Worker timing in General Query"></a>Worker timing in General Query</h3><p>Within each stage, workers execute each action according to the query plan. For more information on workers and interpreting results, please see our <a href="https://cloud.google.com/bigquery/query-plan-explanation?hl=en_US&_ga=2.145877300.-1489360639.1577032681#interpreting_results" target="_blank" rel="noopener">documentation</a>.</p>
<ul>
<li>Elapsed time</li>
<li>Slot time consumed</li>
<li>Bytes shuffled</li>
<li>Bytes spilled to disk</li>
</ul>
<p><img src="Untitled2.png" alt="Untitled2.png"></p>
<pre><code>SELECT DISTINCT
  date,
  fullVisitorId,
FROM `data-to-insights.ecommerce.all_sessions_raw`
WHERE date = &apos;20170708&apos;</code></pre><p><img src="Untitled3.png" alt="Untitled3.png"></p>
<ul>
<li>Job Info</li>
</ul>
<p><img src="Untitled4.png" alt="Untitled4.png"></p>
<ul>
<li><p>Execution details</p>
<p>  <img src="Untitled5.png" alt="Untitled5.png"></p>
</li>
</ul>
<h3 id="2-建立-Partition-Table"><a href="#2-建立-Partition-Table" class="headerlink" title="2. 建立 Partition Table"></a>2. 建立 Partition Table</h3><p>Partition Table是依照日期來做切割，你可以看到使用<code>PARSE_DATE()</code>，PARSE_DATE函數用於日期字段(存儲為string)，以便將其轉換為適當的日期類型進行分區。</p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><blockquote>
<p>Instead of scanning the entire dataset and filtering on a date field like we did in the earlier queries, we will now setup a date-partitioned table. This will allow us to completely ignore scanning records in certain partitions if they are irrelevant to our query.</p>
</blockquote>
<h3 id="PARSE-DATE-format-string-date-string"><a href="#PARSE-DATE-format-string-date-string" class="headerlink" title="PARSE_DATE(format_string, date_string)"></a>PARSE_DATE(format_string, date_string)</h3><p><strong>說明：</strong></p>
<p>使用 <strong><code>format_string</code></strong> 與日期的字串表示傳回 DATE 物件。</p>
<p>使用 <strong><code>PARSE_DATE</code></strong> 時，請注意下列幾點：</p>
<ul>
<li><em>未指定的欄位。</em>任何未指定的欄位都從 <strong><code>1970-01-01</code></strong> 開始。</li>
<li><em>區分大小寫的名稱。</em>例如 <strong><code>Monday</code></strong>、<strong><code>February</code></strong> 等的名稱都不區分大小寫。</li>
<li><em>空白字元。</em>格式字串中的一或多個連續空格字元都符合日期字串中的零或多個連續空格字元。此外，一律允許日期字串中的前置與尾隨空格字元 – 即使它們不在格式字串中也一樣。</li>
<li><em>格式優先順序。</em>當二 (或多) 個格式元素具有重疊資訊 (例如 <strong><code>%F</code></strong> 與 <strong><code>%Y</code></strong> 都影響到年) 時，最後一個格式元素一般會覆寫任何之前的格式元素。</li>
</ul>
<p>如需這個函式支援的格式元素清單，請參閱 <a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/date_functions?hl=zh-tw#supported-format-elements-for-date" target="_blank" rel="noopener">DATE 的支援格式元素</a>。</p>
<p><strong>傳回資料類型：</strong></p>
<p>DATE</p>
<pre><code>#standardSQL
 CREATE OR REPLACE TABLE ecommerce.partition_by_day
 PARTITION BY date_formatted
 OPTIONS(
   description=&quot;a table partitioned by date&quot;
 ) AS

 SELECT DISTINCT
 PARSE_DATE(&quot;%Y%m%d&quot;, date) AS date_formatted, fullvisitorId
 FROM `data-to-insights.ecommerce.all_sessions_raw`</code></pre><ul>
<li><p>執行產生一個partition</p>
<p>  <img src="Untitled6.png" alt="Untitled6.png"></p>
</li>
</ul>
<h3 id="Partition內容"><a href="#Partition內容" class="headerlink" title="Partition內容"></a>Partition內容</h3><p>分別有Schema, Details, Preview</p>
<ul>
<li>Schema<br>從PARSE_DATE(format_string, date_string)處理後，僅留下date_formatted, fullvisitorId</li>
</ul>
<p><img src="Untitled7.png" alt="Untitled7.png"></p>
<ul>
<li>Preview<br>依據date_formatted, fullvisitorId<br>從原本21,552,195 經過<code>SELECT DISICT</code>篩選剩下478,323 row</li>
</ul>
<p><img src="Untitled8.png" alt="Untitled8.png"></p>
<ul>
<li><p>Details<br>我們再來細看裡面的內容</p>
<ul>
<li><p><strong>Table size:</strong> 只剩下13.17MB</p>
</li>
<li><p><strong>Table type:</strong> 已不是<code>table</code>, <strong>而是</strong><code>Partitioned</code></p>
<p><img src="Untitled9.png" alt="Untitled9.png"></p>
</li>
</ul>
</li>
</ul>
<h3 id="Create-pb-results"><a href="#Create-pb-results" class="headerlink" title="Create_pb results"></a>Create_pb results</h3><ul>
<li><p>Job Info</p>
<p>  <img src="Untitled10.png" alt="Untitled10.png"></p>
</li>
<li><p>execution</p>
<p>  <img src="Untitled11.png" alt="Untitled11.png"></p>
</li>
<li><p>Worker timing</p>
<p>  <img src="Untitled12.png" alt="Untitled12.png"></p>
</li>
</ul>
<h2 id="3-實測-Partition-Query"><a href="#3-實測-Partition-Query" class="headerlink" title="3. 實測 Partition Query"></a>3. 實測 Partition Query</h2><p>原本目標FROM <code>data-to-insights.ecommerce.all_sessions_raw</code><br>換成data-to-insights.pb_test.partition_by_day，也就是partition</p>
<pre><code>#standardSQL
SELECT *
FROM `pb_test.partition_by_day`
WHERE date_formatted = &apos;2017-07-08&apos;

#Or
SELECT DISTINCT
  date_formatted,
  fullVisitorId,
FROM `pb_test.partition_by_day`
WHERE date_formatted = &apos;2017-07-08&apos;</code></pre><ul>
<li><p>Query results in <code>0.4s</code><br>時間僅用了0.4秒小於全表的查詢，相信你的表越大，經過partition的篩選效果會更顯著</p>
<p>  <img src="Untitled13.png" alt="Untitled13.png"></p>
<ul>
<li><p>execution details</p>
<p>  <img src="Untitled14.png" alt="Untitled14.png"></p>
</li>
<li><p>Worker timing</p>
<p>  <img src="Untitled15.png" alt="Untitled15.png"></p>
</li>
<li><p>Others query 2018-06-08</p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>為什麼這麼快呢，因為只跑了37.2KB的data<br>Query complete (0.4 sec elapsed, 37.2 KB processed)<br>這次處理的37.2KB，這只是你查詢的一小小小小部份</p>
</blockquote>
<h3 id="4-結論：比較二次結果"><a href="#4-結論：比較二次結果" class="headerlink" title="4. 結論：比較二次結果"></a>4. 結論：比較二次結果</h3><p>速度結果主要取決於「Table大小」、「read time」、「compute time」，因此只要善用Patitioned table，就可以同時降低以上三個關鍵因素，不管理讀取資料或是運行時間</p>
<p><img src="Untitled16.png" alt="Untitled16.png"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference:"></a>Reference:</h2><ol>
<li>Worker timing in General Query<br><a href="https://cloud.google.com/bigquery/query-plan-explanation?hl=en_US" target="_blank" rel="noopener">https://cloud.google.com/bigquery/query-plan-explanation?hl=en_US</a></li>
<li>Creating Date-Partitioned Tables in BigQuery<br><a href="https://www.qwiklabs.com/focuses/3694?parent=catalog" target="_blank" rel="noopener">https://www.qwiklabs.com/focuses/3694?parent=catalog</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://joehuang-pop.github.io/2019/09/11/Linux-%E9%81%BA%E5%A4%B1pam-tally-so-%E9%80%A0%E6%88%90ssh%E7%99%BB%E5%85%A5%E5%A4%B1%E6%95%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joe Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃大仙的雲端修行室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/11/Linux-%E9%81%BA%E5%A4%B1pam-tally-so-%E9%80%A0%E6%88%90ssh%E7%99%BB%E5%85%A5%E5%A4%B1%E6%95%97/" itemprop="url">[Linux]遺失pam_tally.so 造成ssh登入失敗</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-11T23:37:12+08:00">
                2019-09-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Linux-遺失pam-tally-so-造成ssh登入失敗"><a href="#Linux-遺失pam-tally-so-造成ssh登入失敗" class="headerlink" title="[Linux]遺失pam_tally.so 造成ssh登入失敗"></a>[Linux]遺失pam_tally.so 造成ssh登入失敗</h1><h2 id="Linux-PAM-Issue-Lock-ssh-Login"><a href="#Linux-PAM-Issue-Lock-ssh-Login" class="headerlink" title="[ Linux ] PAM Issue Lock ssh Login"></a>[ Linux ] PAM Issue Lock ssh Login</h2><h3 id="1-Error-message"><a href="#1-Error-message" class="headerlink" title="1. Error message"></a>1. Error message</h3><p>客戶用即有 disk開一台vm，無法正常ssh<br>使用serial port 連線和logging，觀察到gcp一直嘗試把itsupport寫入group-sudoers，但無法正常ssh  (上圖是開serial port，下圖ssh error)，經檢查網路與防火牆皆正常</p>
<p><img src="Untitled.png" alt="Untitled.png"></p>
<h3 id="PAM-unable-to-open"><a href="#PAM-unable-to-open" class="headerlink" title="PAM unable to open"></a>PAM unable to open</h3><p>訊息指出PAM unable to open <code>/usr/lib64/security/pam_tally.so</code> </p>
<p><img src="Untitled1.png" alt="Untitled1.png"></p>
<h3 id="參考文件"><a href="#參考文件" class="headerlink" title="參考文件"></a>參考文件</h3><ol>
<li><p><strong>RHEL Resolution</strong></p>
<p> Redhat Solution 也對passwd: PAM unable to dlopen(/lib/security/pam_tally.so) 此提供解法<br> 對目標是<code>**passwd**</code></p>
<p> <a href="https://access.redhat.com/solutions/34749" target="_blank" rel="noopener">Login fails for non-root users with error message “passwd: PAM unable to dlopen(/lib/security/pam_tally.so) - Red Hat Customer Portal</a></p>
</li>
<li><p><strong>內地簡書對於pam linux登入失敗的處理</strong></p>
<p> 直接使用<code>pam_tally --user</code>對user解鎖</p>
<p> <a href="https://www.jianshu.com/p/3cee7c58a283" target="_blank" rel="noopener">Linux登陆失败处理功能</a></p>
</li>
</ol>
<h3 id="2-History-Trace"><a href="#2-History-Trace" class="headerlink" title="2. History Trace"></a>2. History Trace</h3><p>出問題的<code>open-vas vm</code> 關機，將<code>disk</code>掛載到其它的vm進行檢測</p>
<p>發現有對pam.d 調整，推斷出是PAM導致ssh錯誤</p>
<p><img src="Untitled2.png" alt="Untitled2.png"></p>
<h3 id="3-補齊PAM-so檔"><a href="#3-補齊PAM-so檔" class="headerlink" title="3. 補齊PAM .so檔"></a>3. 補齊PAM .so檔</h3><h3 id="作法"><a href="#作法" class="headerlink" title="作法"></a>作法</h3><ol>
<li>檢查系統報錯的檔案<code>pam_tally.so</code> ，確實缺少此檔案</li>
<li>我們檢查過disk有中有相同的so檔，名為<code>pam_tally2.so</code> </li>
<li>建立檔案連結，把<code>pam_tally2.so</code> 指給 <code>pam_tally.so</code></li>
<li>完成連結後，umount disk，在新開vm並使用即有disk</li>
<li>開機正常可正常ssh</li>
</ol>
<p>Step1:<br>檢查檔案</p>
<pre><code># 取得disk資訊，sdb是新掛進來的disk
# 而sdb1是有經過format的partition
# 我們要把/dev/sdb1 掛在新的系統上

$lsblk 

$mkdir -p /ossec
$mount /dev/sdb1 /ossec

# 設定新的根目錄
# 用意是把舊的disk當作系統碟的意思，才能對此partition進行檢測
# 切換命令提示會變成root
# 如擷圖 root@test-107

$chroot /ossec

# 根據報錯的訊息檢查pam_tally.so 檔案
# 發現遺失此檔案

$ls /usr/lib64/security/pam_tally.so</code></pre><p><img src="Untitled3.png" alt="Untitled3.png"></p>
<p>$lsblk</p>
<p><img src="Untitled4.png" alt="Untitled4.png"></p>
<p>To check pam_tally.so</p>
<p>Step2:<br>建立檔案連結<code>ln</code></p>
<p><img src="Untitled5.png" alt="Untitled5.png"></p>
<p>Step3:<br>確認剛才建立的連結檔<code>pam_tally.so</code></p>
<p><img src="Untitled6.png" alt="Untitled6.png"></p>
<p>Step4:</p>
<pre><code># 退出chroot，回到原本的系統
# 注意user變成 itsupport@test-107
$exit

# OS 層級的umount
$sudo umount /ossec

# 再進GCP console把physical disk刪除掉
# 或使用detach-disk

gcloud compute instances detach-disk &lt;YOUR_INSTANCE&gt; --disk=&lt;YOUR_DISK&gt; --zone=&lt;YOUR_ZONE&gt;</code></pre><p><img src="Untitled7.png" alt="Untitled7.png"></p>
<p>Step5:</p>
<p>可以正常ssh 連線了</p>
<p><img src="Untitled8.png" alt="Untitled8.png"></p>
<h3 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h3><p>PAM是保護ssh的第三把鎖，但也有可能設定不當造成ssh失效</p>
<hr>
<h2 id="Firewall-Bastion-linux-RDP-Issue"><a href="#Firewall-Bastion-linux-RDP-Issue" class="headerlink" title="[ Firewall ] Bastion-linux RDP Issue"></a>[ Firewall ] Bastion-linux RDP Issue</h2><h3 id="Firewall-套用模式有三種"><a href="#Firewall-套用模式有三種" class="headerlink" title="Firewall 套用模式有三種"></a>Firewall 套用模式有三種</h3><ol>
<li>網路中所有instance</li>
<li>指定的目標標記</li>
<li>指定的服務帳戶</li>
</ol>
<h3 id="作法-1"><a href="#作法-1" class="headerlink" title="作法"></a>作法</h3><ol>
<li>檢查這條policy是採用<code>指定的目標標記</code></li>
<li>因此vm也要套用上對應的<code>tag</code>: <code>prod-allow-rdp</code> 此firewall才會生效</li>
</ol>
<p>Step1</p>
<p><img src="Untitled9.png" alt="Untitled9.png"></p>
<p>Step2</p>
<p><img src="Untitled10.png" alt="Untitled10.png"></p>
<h3 id="結論-："><a href="#結論-：" class="headerlink" title="結論 ："></a>結論 ：</h3><p>firewall使用的目標最用方式有三種，在現在production目前都有使用中</p>
<p>要注意instance與firewall彼此的對應關系</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Joe Huang</p>
              <p class="site-description motion-element" itemprop="description">雲端架構師，年輕的軀殼裝著老靈魂，喜歡配著音樂閱讀，生活不能沒有思考和遊蕩 |                  Young body with sentimental and old soul. Can’t live without reading and music, and believe that life is full of thinking and warding.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Joe Huang</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
